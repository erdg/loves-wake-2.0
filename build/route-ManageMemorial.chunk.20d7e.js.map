{"version":3,"sources":["webpack:///route-ManageMemorial.chunk.20d7e.js","webpack:///./routes/ManageMemorial/ContentList.js","webpack:///./routes/ManageMemorial/EditCard.js","webpack:///./routes/ManageMemorial/EditModal.js","webpack:///./routes/ManageMemorial/index.js","webpack:///./components/GridContainer/style.css?c445","webpack:///./components/GridContainer/index.js"],"names":["webpackJsonp","FoBm","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","ManageMemorial__classCallCheck","instance","Constructor","ManageMemorial__possibleConstructorReturn","ManageMemorial__inherits","defineProperty","preact_min","api","GridContainer","_ref","class","_ref2","_ref3","ContentList_ContentList","props","onClick","newItem","style","items","map","item","ContentList_ContentCard","id","title","date","start","location","src","showModal","edited","ManageMemorial_ContentList","classnames","classnames_default","n","form_inputs","EditCard_EditCard","alt","caption","ManageMemorial_EditCard","EditModal__ref","EditModal_EditModal","_Component","EditModal","this","apply","arguments","render","modalClasses","active","has-error","modalError","width","window","innerWidth","document","documentElement","clientWidth","body","client","hideModal","aria-label","label","name","onChange","type","accept","file","onFileChange","updChronicle","newChronicle","ManageMemorial_EditModal","ManageMemorial_ManageMemorial","ManageMemorial","_temp","_this","_ret","_len","length","args","Array","_key","concat","state","e","newState","target","setState","oldState","files","makeFileURL","reader","FileReader","onload","result","readAsDataURL","console","log","alert","str","split","fetch","urlNm","method","JSON","stringify","loginToken","sessionStorage","getItem","txt","image","then","res","json","subtitle","addItem","memorial","user","memorials","find","m","oldItem","_this2","avatarColumn","avatar","nm","contentColumn","cUJj","exports","gridContainer","v23/","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1__style__","__WEBPACK_IMPORTED_MODULE_1__style___default","a"],"mappings":"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","file":"route-ManageMemorial.chunk.20d7e.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"FoBm\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./api/index.js\nvar api = __webpack_require__(\"/C1n\");\n\n// EXTERNAL MODULE: ./components/GridContainer/index.js\nvar GridContainer = __webpack_require__(\"v23/\");\n\n// EXTERNAL MODULE: ../node_modules/preact-router/dist/preact-router.es.js\nvar preact_router_es = __webpack_require__(\"/QC5\");\n\n// CONCATENATED MODULE: ./routes/ManageMemorial/ContentList.js\n\n\n\n\nvar _ref = Object(preact_min[\"h\"])(\n   'h4',\n   { 'class': 'col' },\n   'Chronicle Items'\n);\n\nvar _ref2 = Object(preact_min[\"h\"])('div', { 'class': 'col' });\n\nvar _ref3 = Object(preact_min[\"h\"])('div', { 'class': 'divider' });\n\nvar ContentList_ContentList = function ContentList(props) {\n   return Object(preact_min[\"h\"])(\n      'div',\n      null,\n      Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'row' },\n         _ref,\n         _ref2,\n         Object(preact_min[\"h\"])(\n            'button',\n            {\n               'class': 'col btn btn-primary',\n               onClick: props.newItem\n            },\n            'Add Item'\n         )\n      ),\n      _ref3,\n      Object(preact_min[\"h\"])(\n         'div',\n         {\n            style: \"display:flex;\" + \"flex-direction:row;\" + \"flex-wrap:wrap;\" + \"align-items:flex-start;\" + \"justify-content:center;\"\n         },\n         props.items.map(function (item) {\n            return Object(preact_min[\"h\"])(ContentList_ContentCard, {\n               id: item.id,\n               title: item.title,\n               date: item.start,\n               location: item.location,\n               src: item.src,\n               showModal: function showModal(id) {\n                  return props.showModal(id);\n               },\n               edited: item.edited\n            });\n         })\n      )\n   );\n};\n\nvar ContentList_ContentCard = function ContentCard(props) {\n   return Object(preact_min[\"h\"])(\n      'div',\n      { 'class': 'card m-2', style: \"width:200px;\" + (props.edited ? \"background:lightcoral;\" : \"\") },\n      props.src && Object(preact_min[\"h\"])('img', { 'class': 'responsive-img mt-2 mx-2 centered', src: props.src, style: 'max-width:182px' }),\n      Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'card-body' },\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'h6 text-ellipsis' },\n            props.title\n         ),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'text-gray text-ellipsis', style: 'font-size:smaller;' },\n            props.location\n         ),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'text-gray', style: 'font-size:smaller;' },\n            props.date\n         )\n      ),\n      Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'card-footer' },\n         Object(preact_min[\"h\"])(\n            'button',\n            {\n               'class': 'btn btn-sm float-right',\n               onClick: function onClick(id) {\n                  return props.showModal(props.id);\n               }\n            },\n            'edit'\n         )\n      )\n   );\n};\n\n/* harmony default export */ var ManageMemorial_ContentList = (ContentList_ContentList);\n// EXTERNAL MODULE: ../node_modules/classnames/index.js\nvar classnames = __webpack_require__(\"9qb7\");\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./components/form-inputs/index.js\nvar form_inputs = __webpack_require__(\"AM5m\");\n\n// CONCATENATED MODULE: ./routes/ManageMemorial/EditCard.js\n\n\n\nvar EditCard_EditCard = function EditCard(props) {\n   return Object(preact_min[\"h\"])(\n      \"div\",\n      { \"class\": \"panel\" },\n      Object(preact_min[\"h\"])(\n         \"div\",\n         { \"class\": \"panel-body mt-2\" },\n         props.item.src && Object(preact_min[\"h\"])(\"img\", {\n            src: props.item.src,\n            alt: props.item.title,\n            \"class\": \"img-responsive my-2\"\n         }),\n         Object(preact_min[\"h\"])(\n            \"h4\",\n            null,\n            props.item.title\n         ),\n         Object(preact_min[\"h\"])(\n            \"div\",\n            { \"class\": \"text-gray d-inline\" },\n            props.item.location\n         ),\n         Object(preact_min[\"h\"])(\n            \"div\",\n            { \"class\": \"text-gray d-inline mx-2\" },\n            props.item.start\n         ),\n         Object(preact_min[\"h\"])(\n            \"p\",\n            null,\n            props.item.caption\n         )\n      )\n   );\n};\n\n/* harmony default export */ var ManageMemorial_EditCard = (EditCard_EditCard);\n// CONCATENATED MODULE: ./routes/ManageMemorial/EditModal.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n// edit a chronicle item\n\nvar EditModal__ref = Object(preact_min[\"h\"])(\n   'div',\n   { 'class': 'text-center text-gray', style: 'font-size:smaller;' },\n   '- Scroll down to see a preview -'\n);\n\nvar EditModal_EditModal = function (_Component) {\n   _inherits(EditModal, _Component);\n\n   function EditModal() {\n      _classCallCheck(this, EditModal);\n\n      return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n   }\n\n   EditModal.prototype.render = function render(props) {\n      var modalClasses = classnames_default()(\"modal\", \"modal-lg\", { \"active\": props.showModal }, { \"has-error\": props.modalError });\n\n      var width = window.innerWidth || document.documentElement.clientWidth || document.body.client.width;\n\n      return Object(preact_min[\"h\"])(\n         'div',\n         { 'class': modalClasses },\n         Object(preact_min[\"h\"])('a', { onClick: props.hideModal,\n            'class': 'modal-overlay',\n            'aria-label': 'Close'\n         }),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'modal-container' },\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'modal-header' },\n               Object(preact_min[\"h\"])('a', { onClick: props.hideModal,\n                  'class': 'btn btn-clear float-right',\n                  'aria-label': 'Close'\n               }),\n               Object(preact_min[\"h\"])(\n                  'div',\n                  { 'class': 'modal-title h5' },\n                  props.item.id ? \"Edit Item\" : \"Add Item\"\n               ),\n               width < 840 && EditModal__ref\n            ),\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'modal-body' },\n               Object(preact_min[\"h\"])(\n                  'div',\n                  { 'class': width < 840 ? \"content\" : \"content container columns\" },\n                  Object(preact_min[\"h\"])(\n                     'form',\n                     { 'class': width < 840 ? \"form-group\" : \"form-group column col-5\" },\n                     Object(preact_min[\"h\"])(form_inputs[\"e\" /* TextInput */], {\n                        label: 'Title',\n                        name: 'title',\n                        value: props.item.title,\n                        onChange: props.onChange\n                     }),\n                     Object(preact_min[\"h\"])(form_inputs[\"e\" /* TextInput */], {\n                        label: 'Location',\n                        name: 'location',\n                        value: props.item.location,\n                        onChange: props.onChange\n                     }),\n                     Object(preact_min[\"h\"])(form_inputs[\"a\" /* DateInput */], {\n                        label: 'Date',\n                        name: 'start',\n                        value: props.item.start,\n                        onChange: props.onChange\n                     }),\n                     Object(preact_min[\"h\"])(\n                        'label',\n                        {\n                           'class': 'form-label'\n                        },\n                        'Change photo',\n                        Object(preact_min[\"h\"])('input', {\n                           'class': 'form-input',\n                           type: 'file',\n                           accept: '.jpg, .jpeg, .png',\n                           value: props.item.file,\n                           onChange: props.onFileChange\n                        })\n                     )\n                  ),\n                  Object(preact_min[\"h\"])(\n                     'div',\n                     { 'class': width < 840 ? \"\" : \"column col-7\" },\n                     Object(preact_min[\"h\"])(ManageMemorial_EditCard, { item: props.item })\n                  )\n               )\n            ),\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'modal-footer' },\n               Object(preact_min[\"h\"])(\n                  'button',\n                  {\n                     'class': 'btn btn-primary',\n                     onClick: props.item.id ? props.updChronicle : props.newChronicle\n                  },\n                  props.item.id ? \"Update item\" : \"Add item\"\n               )\n            )\n         )\n      );\n   };\n\n   return EditModal;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var ManageMemorial_EditModal = (EditModal_EditModal);\n// CONCATENATED MODULE: ./routes/ManageMemorial/PublicUrl.js\n\n\n\nvar PublicUrl_PublicUrl = function PublicUrl(props) {\n   return Object(preact_min[\"h\"])(\n      'button',\n      {\n         'class': 'btn btn-link',\n         onClick: function onClick() {\n            return Object(preact_router_es[\"route\"])('/' + props.urlStr + '/' + props.urlNm + '/chronicle');\n         }\n      },\n      'loveswake.com/' + props.urlStr + '/' + props.urlNm + '/chronicle'\n   );\n};\n\n/* harmony default export */ var ManageMemorial_PublicUrl = (PublicUrl_PublicUrl);\n// CONCATENATED MODULE: ../node_modules/babel-loader/lib??ref--0!./routes/ManageMemorial/index.js\n\n\nfunction ManageMemorial__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction ManageMemorial__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction ManageMemorial__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\nvar ManageMemorial_ManageMemorial = function (_Component) {\n   ManageMemorial__inherits(ManageMemorial, _Component);\n\n   function ManageMemorial() {\n      var _temp, _this, _ret;\n\n      ManageMemorial__classCallCheck(this, ManageMemorial);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n         args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = ManageMemorial__possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n         item: {},\n         showModal: false\n      }, _this.onChange = function (e) {\n         var oldState = _this.state.item;\n         var newState = _this.state.item;\n         newState[e.target.name] = e.target.value;\n         _this.setState({ oldState: newState });\n      }, _this.onFileChange = function (e) {\n         var oldState = _this.state.item;\n         var newState = _this.state.item;\n         newState[\"file\"] = e.target.files[0];\n         _this.setState({ oldState: newState });\n         // needed to do this as a separate step so the state\n         // updates properly. which means this is a hack.\n         _this.makeFileURL();\n      }, _this.makeFileURL = function () {\n         var oldState = _this.state.item;\n         var newState = _this.state.item;\n         var reader = new FileReader();\n\n         reader.onload = function (e) {\n            newState[\"src\"] = e.target.result;\n            _this.setState({ oldState: newState });\n         };\n\n         reader.readAsDataURL(_this.state.item.file);\n      }, _this.updChronicle = function () {\n         console.log('updChronicle');\n\n         // handle errors\n         if (!(_this.state.item.title && _this.state.item.start)) {\n            alert(\"A new item must have a title and a date\");\n            return;\n         }\n\n         // NOTE - this whole thing feels like a hack as the fetch call\n         // is basically repeated. look into async/await or a promise.\n\n         // if there's an image to upload...\n         if (_this.state.item.file) {\n\n            var reader = new FileReader();\n\n            reader.readAsDataURL(_this.state.item.file);\n\n            reader.onload = function (e) {\n               // NOTE - must remove padding for picolisp\n               //\n               // base64 strings are padded with one or two '='s to make sure it aligns\n               // to proper byte boundaries. the picolisp server does not handle this \n               // well. so we must remove any padding before it is sent. after picolisp\n               // has parsed the http request, we can add the appropriate padding back\n               // to the string by checking if it is an even multiple of 4.\n               //\n               // see 'server.l' for the picolisp side.\n               //\n               // NOTE - turns out that we don't need to add padding back on the server\n               // as the base64 utility is still able to decode.\n\n               // base64 string without padding\n               var str = e.target.result.split('=')[0];\n\n               fetch(api[\"a\" /* default */] + \"!updChronicle?\" + _this.props.urlNm, {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                     loginToken: window.sessionStorage.getItem(\"loginToken\"),\n                     id: _this.state.item.id,\n                     title: _this.state.item.title,\n                     location: _this.state.item.location,\n                     date: _this.state.item.start,\n                     txt: _this.state.item.txt,\n                     image: str\n                  })\n               }).then(function (res) {\n                  return res.json();\n               }).then(function (json) {\n                  console.log(json);\n                  // UPDATE TIMELINE STATE HERE\n                  // NOTE - this may not be necessary, as new entries\n                  // will likely go into a holding container to await\n                  // editing/approval by shrine moderator\n                  // this.refs.timeline.addItem(json);\n                  // this.addItem(json);\n               }).then(_this.setState({\n                  item: {}\n               }));\n            };\n         } else {\n\n            // EDIT URL BELOW\n            fetch(api[\"a\" /* default */] + \"!updChronicle?\" + _this.props.urlNm, {\n               method: \"POST\",\n               body: JSON.stringify({\n                  loginToken: window.sessionStorage.getItem(\"loginToken\"),\n                  id: _this.state.item.id,\n                  title: _this.state.item.title,\n                  location: _this.state.item.location,\n                  date: _this.state.item.start,\n                  txt: _this.state.item.txt\n               })\n            }).then(function (res) {\n               return res.json();\n            }).then(function (json) {\n               console.log(json);\n               // UPDATE TIMELINE STATE HERE\n               // NOTE - this may not be necessary, as new entries\n               // will likely go into a holding container to await\n               // editing/approval by shrine moderator\n               // this.refs.timeline.addItem(json);\n               // this.addItem(json);\n            }).then(_this.setState({\n               item: {}\n            }));\n         }\n\n         _this.hideModal();\n      }, _this.newChronicle = function () {\n         console.log('newChronicle');\n         // handle errors\n         if (!(_this.state.item.title && _this.state.item.start)) {\n            alert(\"A new item must have a title and a date\");\n            return;\n         }\n\n         // NOTE - this whole thing feels like a hack as the fetch call\n         // is basically repeated. look into async/await or a promise.\n\n         // if there's an image to upload...\n         if (_this.state.item.file) {\n\n            var reader = new FileReader();\n\n            reader.readAsDataURL(_this.state.item.file);\n\n            reader.onload = function (e) {\n               // NOTE - must remove padding for picolisp\n               //\n               // base64 strings are padded with one or two '='s to make sure it aligns\n               // to proper byte boundaries. the picolisp server does not handle this \n               // well. so we must remove any padding before it is sent. after picolisp\n               // has parsed the http request, we can add the appropriate padding back\n               // to the string by checking if it is an even multiple of 4.\n               //\n               // see 'server.l' for the picolisp side.\n               //\n               // NOTE - turns out that we don't need to add padding back on the server\n               // as the base64 utility is still able to decode.\n\n               // base64 string without padding\n               var str = e.target.result.split('=')[0];\n\n               fetch(api[\"a\" /* default */] + \"!postChronicle?\" + _this.props.urlNm, {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                     title: _this.state.item.title,\n                     subtitle: _this.state.item.subtitle,\n                     location: _this.state.item.location,\n                     date: _this.state.item.start,\n                     txt: _this.state.item.txt,\n                     image: str\n                  })\n               }).then(function (res) {\n                  return res.json();\n               }).then(function (json) {\n                  console.log(json);\n                  // UPDATE TIMELINE STATE HERE\n                  // NOTE - this may not be necessary, as new entries\n                  // will likely go into a holding container to await\n                  // editing/approval by shrine moderator\n                  // this.refs.timeline.addItem(json);\n                  _this.addItem(json);\n               }).then(_this.setState({\n                  item: {}\n               }));\n            };\n         } else {\n\n            // EDIT URL BELOW\n            fetch(api[\"a\" /* default */] + \"!postChronicle?\" + _this.props.urlNm, {\n               method: \"POST\",\n               body: JSON.stringify({\n                  title: _this.state.item.title,\n                  subtitle: _this.state.item.subtitle,\n                  location: _this.state.item.location,\n                  date: _this.state.item.start,\n                  txt: _this.state.item.txt\n               })\n            }).then(function (res) {\n               return res.json();\n            }).then(function (json) {\n               console.log(json);\n               // UPDATE TIMELINE STATE HERE\n               // NOTE - this may not be necessary, as new entries\n               // will likely go into a holding container to await\n               // editing/approval by shrine moderator\n               // this.refs.timeline.addItem(json);\n               _this.addItem(json);\n            }).then(_this.setState({\n               item: {}\n            }));\n         }\n\n         _this.hideModal();\n      }, _this.showModal = function (id) {\n         var memorial = _this.props.user.memorials.find(function (m) {\n            return m.urlNm === _this.props.urlNm;\n         });\n         _this.setState({ showModal: true, item: memorial.items.find(function (item) {\n               return item.id === id;\n            }) });\n      }, _this.hideModal = function () {\n         var oldItem = _this.state.item;\n         var newItem = _this.state.item;\n         newItem[\"edited\"] = true;\n         _this.setState({\n            showModal: false,\n            modalError: false,\n            oldItem: newItem\n         });\n      }, _this.newItem = function () {\n         _this.showModal();\n         _this.setState({ item: {} });\n      }, _temp), ManageMemorial__possibleConstructorReturn(_this, _ret);\n   }\n\n   ManageMemorial.prototype.render = function render() {\n      var _this2 = this;\n\n      var memorial = this.props.user.memorials.find(function (m) {\n         return m.urlNm === _this2.props.urlNm;\n      });\n      return Object(preact_min[\"h\"])(GridContainer[\"a\" /* default */], {\n         avatarColumn: Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'menu', style: 'z-index:1;' },\n            Object(preact_min[\"h\"])(\n               'figure',\n               { 'class': 'centered avatar avatar-xxl' },\n               Object(preact_min[\"h\"])('img', { src: memorial.avatar })\n            ),\n            Object(preact_min[\"h\"])(\n               'h3',\n               { 'class': 'text-center mt-2' },\n               memorial.nm\n            )\n         ),\n         contentColumn: Object(preact_min[\"h\"])(\n            'div',\n            null,\n            Object(preact_min[\"h\"])(ManageMemorial_ContentList, {\n               showModal: this.showModal,\n               items: memorial.items,\n               newItem: this.newItem\n            }),\n            Object(preact_min[\"h\"])(ManageMemorial_EditModal, {\n               showModal: this.state.showModal,\n               hideModal: this.hideModal,\n\n               updChronicle: this.updChronicle,\n               newChronicle: this.newChronicle,\n\n               onChange: this.onChange,\n               onFileChange: this.onFileChange,\n\n               item: this.state.item\n            })\n         )\n      });\n   };\n\n   return ManageMemorial;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var lib__ref__0_routes_ManageMemorial = __webpack_exports__[\"default\"] = (ManageMemorial_ManageMemorial);\n\n/***/ }),\n\n/***/ \"cUJj\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"gridContainer\":\"gridContainer__3MQ5X\",\"avatarColumn\":\"avatarColumn__3AYMn\",\"contentColumn\":\"contentColumn__2un7q\"};\n\n/***/ }),\n\n/***/ \"v23/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style__ = __webpack_require__(\"cUJj\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style__);\n\n\n\nvar GridContainer = function GridContainer(props) {\n   return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'div',\n      { 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.gridContainer },\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n         'div',\n         { 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.avatarColumn },\n         props.avatarColumn\n      ),\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n         'div',\n         { 'class': __WEBPACK_IMPORTED_MODULE_1__style___default.a.contentColumn },\n         props.contentColumn\n      )\n   );\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (GridContainer);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-ManageMemorial.chunk.20d7e.js","import { h, Component } from 'preact';\nimport { route } from 'preact-router';\n\nconst ContentList = (props) => (\n   <div>\n      <div class=\"row\">\n         <h4 class=\"col\">Chronicle Items</h4>\n         <div class=\"col\" />\n         <button\n            class=\"col btn btn-primary\"\n            onClick={props.newItem}\n         >\n            Add Item\n         </button>\n      </div>\n      <div class=\"divider\" />\n      <div\n         style={\n            \"display:flex;\"\n            + \"flex-direction:row;\"\n            + \"flex-wrap:wrap;\"\n            + \"align-items:flex-start;\"\n            + \"justify-content:center;\"\n         }\n      >\n         { \n            props.items.map((item) => (\n                  <ContentCard\n                     id={item.id}\n                     title={item.title} \n                     date={item.start} \n                     location={item.location} \n                     src={item.src}\n                     showModal={(id) => props.showModal(id)}\n                     edited={item.edited}\n                  />\n            ))\n         }\n      </div>\n   </div>\n)\n\nconst ContentCard = (props) => (\n   <div class=\"card m-2\" style={\"width:200px;\" + (props.edited ? \"background:lightcoral;\" : \"\")}>\n      { props.src &&\n            <img class=\"responsive-img mt-2 mx-2 centered\" src={props.src} style=\"max-width:182px\"/>\n      }\n      <div class=\"card-body\">\n         <div class=\"h6 text-ellipsis\">{props.title}</div>\n         <div class=\"text-gray text-ellipsis\" style=\"font-size:smaller;\">{props.location}</div>\n         <div class=\"text-gray\" style=\"font-size:smaller;\">{props.date}</div>\n      </div>\n      <div class=\"card-footer\">\n         <button \n            class=\"btn btn-sm float-right\"\n            onClick={(id) => props.showModal(props.id)}\n         > \n            edit\n         </button>\n      </div>\n   </div>\n)\n\nexport default ContentList;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/ContentList.js","import { h, Component } from 'preact';\n\nconst EditCard = (props) => (\n\n   <div class={ \"panel\" }>\n\n      <div class=\"panel-body mt-2\">\n\n         {/* no need to render image if it doesn't exist */}\n         { props.item.src &&\n            <img \n               src={props.item.src} \n               alt={props.item.title} \n               class=\"img-responsive my-2\"\n            />\n         }\n\n         <h4>{props.item.title}</h4>\n\n         <div class=\"text-gray d-inline\">{props.item.location}</div> \n         <div class=\"text-gray d-inline mx-2\">{props.item.start}</div>\n\n         <p>{props.item.caption}</p>\n\n      </div>\n\n      {/*\n      <div class=\"card-footer\">\n         <button class=\"btn btn-primary\">Do</button>\n      </div>\n      */}\n\n   </div>\n)\n\nexport default EditCard;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/EditCard.js","import { h, Component } from 'preact';\nimport classnames from 'classnames';\nimport { TextArea, TextInput, DateInput } from '../../components/form-inputs';\nimport EditCard from './EditCard';\n\n// edit a chronicle item\nclass EditModal extends Component {\n\n   render (props) {\n      let modalClasses = classnames(\n         \"modal\", \"modal-lg\", { \"active\": props.showModal }, { \"has-error\": props.modalError}\n      );\n\n      var width = window.innerWidth || document.documentElement.clientWidth || document.body.client.width;\n\n      return (\n         <div class={modalClasses}>\n\n            <a onClick={props.hideModal} \n               class=\"modal-overlay\" \n               aria-label=\"Close\" \n            />\n\n            <div class=\"modal-container\">\n\n               <div class=\"modal-header\">\n\n                  <a onClick={props.hideModal} \n                     class=\"btn btn-clear float-right\" \n                     aria-label=\"Close\"\n                  />\n\n                  <div class=\"modal-title h5\">\n                     { props.item.id ?\n                        \"Edit Item\"\n                           :\n                        \"Add Item\"\n                     }\n                  </div>\n\n               { width < 840 &&\n                  <div class=\"text-center text-gray\" style=\"font-size:smaller;\">\n                     - Scroll down to see a preview -\n                  </div>\n               }\n\n               </div>\n\n               <div class=\"modal-body\">\n                  <div class={ width < 840 ? \"content\" : \"content container columns\"}>\n\n                     <form class={ width < 840 ? \"form-group\" : \"form-group column col-5\"}>\n\n                        <TextInput \n                           label=\"Title\" \n                           name=\"title\" \n                           value={props.item.title} \n                           onChange={props.onChange} \n                        />\n\n                        <TextInput \n                           label=\"Location\" \n                           name=\"location\"\n                           value={props.item.location}\n                           onChange={props.onChange}\n                        />\n\n                        <DateInput \n                           label=\"Date\" \n                           name=\"start\"\n                           value={props.item.start}\n                           onChange={props.onChange}\n                        />\n\n                        <label\n                           class=\"form-label\"\n                        >\n                           Change photo\n                           <input \n                              class=\"form-input\"\n                              type=\"file\" \n                              accept=\".jpg, .jpeg, .png\"\n                              value={props.item.file} \n                              onChange={props.onFileChange}\n                           />\n                        </label>\n\n                     </form>\n\n                     <div class={ width < 840 ? \"\" : \"column col-7\" }>\n                        <EditCard item={props.item} />\n                     </div>\n\n                  </div>\n\n               </div>\n\n\n               <div class=\"modal-footer\">\n\n                  <button \n                     class=\"btn btn-primary\"\n                     onClick={ props.item.id ? props.updChronicle : props.newChronicle } \n                  >\n                     { props.item.id ?\n                        \"Update item\"\n                           :\n                        \"Add item\"\n                     }\n                  </button>\n\n               </div>\n\n            </div>\n\n         </div>\n      );\n   }\n\n}\n\nexport default EditModal;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/EditModal.js","import { h, Component } from 'preact';\nimport API_ENDPOINT from '../../api';\n\nimport GridContainer from '../../components/GridContainer';\n\nimport ContentList from './ContentList';\nimport EditModal from './EditModal';\nimport PublicUrl from './PublicUrl';\n\nclass ManageMemorial extends Component {\n   state = {\n      item: {},\n      showModal: false,\n   }\n\n   onChange = (e) => {\n      let oldState = this.state.item;\n      let newState = this.state.item;\n      newState[e.target.name] = e.target.value;\n      this.setState({ oldState: newState });\n   }\n\n   onFileChange = (e) => {\n      let oldState = this.state.item;\n      let newState = this.state.item;\n      newState[\"file\"] = e.target.files[0];\n      this.setState({ oldState: newState });\n      // needed to do this as a separate step so the state\n      // updates properly. which means this is a hack.\n      this.makeFileURL();\n   }\n\n   makeFileURL = () => {\n      let oldState = this.state.item;\n      let newState = this.state.item;\n      let reader = new FileReader();\n\n      reader.onload = (e) => {\n        newState[\"src\"] = e.target.result;\n        this.setState({ oldState: newState })\n      }\n\n      reader.readAsDataURL(this.state.item.file);\n   }\n\n   updChronicle = () => {\n      console.log('updChronicle');\n\n      // handle errors\n      if (!(this.state.item.title && this.state.item.start)) {\n         alert(\"A new item must have a title and a date\");\n         return;\n      }\n\n      // NOTE - this whole thing feels like a hack as the fetch call\n      // is basically repeated. look into async/await or a promise.\n\n      // if there's an image to upload...\n      if (this.state.item.file) {\n\n         let reader = new FileReader();\n\n         reader.readAsDataURL(this.state.item.file);\n\n         reader.onload = (e) => {\n            // NOTE - must remove padding for picolisp\n            //\n            // base64 strings are padded with one or two '='s to make sure it aligns\n            // to proper byte boundaries. the picolisp server does not handle this \n            // well. so we must remove any padding before it is sent. after picolisp\n            // has parsed the http request, we can add the appropriate padding back\n            // to the string by checking if it is an even multiple of 4.\n            //\n            // see 'server.l' for the picolisp side.\n            //\n            // NOTE - turns out that we don't need to add padding back on the server\n            // as the base64 utility is still able to decode.\n\n            // base64 string without padding\n            let str = e.target.result.split('=')[0]\n\n            fetch( API_ENDPOINT + \"!updChronicle?\" + this.props.urlNm,\n               { \n                  method: \"POST\", \n                  body: JSON.stringify({ \n                     loginToken: window.sessionStorage.getItem(\"loginToken\"),\n                     id: this.state.item.id,\n                     title: this.state.item.title,\n                     location: this.state.item.location,\n                     date: this.state.item.start,\n                     txt: this.state.item.txt,\n                     image: str\n                  }) \n               }\n            )\n            .then( res => res.json() )\n            .then( json => {\n               console.log(json);\n               // UPDATE TIMELINE STATE HERE\n               // NOTE - this may not be necessary, as new entries\n               // will likely go into a holding container to await\n               // editing/approval by shrine moderator\n               // this.refs.timeline.addItem(json);\n               // this.addItem(json);\n            })\n            .then( this.setState({ \n               item: {}\n            }));\n            \n         }\n\n      } else {\n\n         // EDIT URL BELOW\n         fetch( API_ENDPOINT + \"!updChronicle?\" + this.props.urlNm,\n            { \n               method: \"POST\", \n               body: JSON.stringify({ \n                  loginToken: window.sessionStorage.getItem(\"loginToken\"),\n                  id: this.state.item.id,\n                  title: this.state.item.title,\n                  location: this.state.item.location,\n                  date: this.state.item.start,\n                  txt: this.state.item.txt,\n               }) \n            }\n         )\n         .then( res => res.json() )\n         .then( json => {\n            console.log(json);\n            // UPDATE TIMELINE STATE HERE\n            // NOTE - this may not be necessary, as new entries\n            // will likely go into a holding container to await\n            // editing/approval by shrine moderator\n            // this.refs.timeline.addItem(json);\n            // this.addItem(json);\n         })\n         .then( this.setState({ \n            item: {}\n         }));\n\n      }\n\n      this.hideModal();\n   }\n\n   newChronicle = () => {\n      console.log('newChronicle');\n      // handle errors\n      if (!(this.state.item.title && this.state.item.start)) {\n         alert(\"A new item must have a title and a date\");\n         return;\n      }\n\n      // NOTE - this whole thing feels like a hack as the fetch call\n      // is basically repeated. look into async/await or a promise.\n\n      // if there's an image to upload...\n      if (this.state.item.file) {\n\n         let reader = new FileReader();\n\n         reader.readAsDataURL(this.state.item.file);\n\n         reader.onload = (e) => {\n            // NOTE - must remove padding for picolisp\n            //\n            // base64 strings are padded with one or two '='s to make sure it aligns\n            // to proper byte boundaries. the picolisp server does not handle this \n            // well. so we must remove any padding before it is sent. after picolisp\n            // has parsed the http request, we can add the appropriate padding back\n            // to the string by checking if it is an even multiple of 4.\n            //\n            // see 'server.l' for the picolisp side.\n            //\n            // NOTE - turns out that we don't need to add padding back on the server\n            // as the base64 utility is still able to decode.\n\n            // base64 string without padding\n            let str = e.target.result.split('=')[0]\n\n            fetch( API_ENDPOINT + \"!postChronicle?\" + this.props.urlNm,\n               { \n                  method: \"POST\", \n                  body: JSON.stringify({ \n                     title: this.state.item.title,\n                     subtitle: this.state.item.subtitle,\n                     location: this.state.item.location,\n                     date: this.state.item.start,\n                     txt: this.state.item.txt,\n                     image: str\n                  }) \n               }\n            )\n            .then( res => res.json() )\n            .then( json => {\n               console.log(json);\n               // UPDATE TIMELINE STATE HERE\n               // NOTE - this may not be necessary, as new entries\n               // will likely go into a holding container to await\n               // editing/approval by shrine moderator\n               // this.refs.timeline.addItem(json);\n               this.addItem(json);\n            })\n            .then( this.setState({ \n               item: {}\n            }));\n            \n         }\n\n      } else {\n\n         // EDIT URL BELOW\n         fetch( API_ENDPOINT + \"!postChronicle?\" + this.props.urlNm,\n            { \n               method: \"POST\", \n               body: JSON.stringify({ \n                  title: this.state.item.title,\n                  subtitle: this.state.item.subtitle,\n                  location: this.state.item.location,\n                  date: this.state.item.start,\n                  txt: this.state.item.txt,\n               }) \n            }\n         )\n         .then( res => res.json() )\n         .then( json => {\n            console.log(json);\n            // UPDATE TIMELINE STATE HERE\n            // NOTE - this may not be necessary, as new entries\n            // will likely go into a holding container to await\n            // editing/approval by shrine moderator\n            // this.refs.timeline.addItem(json);\n            this.addItem(json);\n         })\n         .then( this.setState({ \n            item: {}\n         }));\n\n      }\n\n      this.hideModal();\n   }\n\n   showModal = (id) => {\n      let memorial = this.props.user.memorials.find(m => m.urlNm === this.props.urlNm);\n      this.setState({ showModal: true, item: memorial.items.find(item => item.id === id) });\n   }\n\n   hideModal = () => {\n      let oldItem = this.state.item;\n      let newItem = this.state.item;\n      newItem[\"edited\"] = true;\n      this.setState({ \n         showModal: false, \n         modalError: false,\n         oldItem: newItem\n      });\n   }\n\n   newItem = () => {\n      this.showModal();\n      this.setState({ item: {} });\n   }\n\n   render () {\n      let memorial = this.props.user.memorials.find(m => m.urlNm === this.props.urlNm);\n      return (\n         <GridContainer\n            avatarColumn={\n               <div class=\"menu\" style=\"z-index:1;\">\n                     <figure class=\"centered avatar avatar-xxl\"> \n                        <img src={memorial.avatar} />\n                     </figure>\n                     <h3 class=\"text-center mt-2\">{memorial.nm}</h3>\n               </div>\n            }\n            contentColumn={\n               <div>\n                  {/*\n                  <PublicUrl \n                     nm1={memorial.nm1} \n                     urlStr={memorial.urlStr} \n                     urlNm={memorial.urlNm}\n                  />\n                  */}\n                  <ContentList \n                     showModal={this.showModal} \n                     items={memorial.items} \n                     newItem={this.newItem}\n                  />\n                  <EditModal \n                     showModal={this.state.showModal}\n                     hideModal={this.hideModal}\n\n                     updChronicle={this.updChronicle}\n                     newChronicle={this.newChronicle}\n\n                     onChange={this.onChange}\n                     onFileChange={this.onFileChange}\n\n                     item={this.state.item}\n                  />\n               </div>\n            }\n         />\n      )\n   }\n}\n\nexport default ManageMemorial;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"gridContainer\":\"gridContainer__3MQ5X\",\"avatarColumn\":\"avatarColumn__3AYMn\",\"contentColumn\":\"contentColumn__2un7q\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/GridContainer/style.css\n// module id = cUJj\n// module chunks = 0 1","import style from './style';\n\nconst GridContainer = (props) => (\n   <div class={style.gridContainer}>\n      <div class={style.avatarColumn}>\n         {props.avatarColumn}\n      </div>\n      <div class={style.contentColumn}>\n         {props.contentColumn}\n      </div>\n   </div>\n);\n\nexport default GridContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./components/GridContainer/index.js"],"sourceRoot":""}