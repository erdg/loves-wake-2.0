{"version":3,"sources":["webpack:///route-signup.chunk.4bc3d.js","webpack:///./routes/signup/signup-form-inputs.js","webpack:///./routes/signup/signup-form.js","webpack:///./routes/signup/signup-form-container.js","webpack:///./routes/signup/index.js"],"names":["webpackJsonp","vRPq","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","signup_form__classCallCheck","instance","Constructor","signup_form__possibleConstructorReturn","signup_form__inherits","signup_form_container__classCallCheck","signup_form_container__possibleConstructorReturn","signup_form_container__inherits","signup__classCallCheck","signup__possibleConstructorReturn","signup__inherits","defineProperty","preact_min","FlexContainer","api","preact_router_es","isEmail","isEmail_default","n","classnames","classnames_default","dialog","_ref","class","signup_form_inputs_EmailInput","props","email","onChange","handleEmailChange","type","placeholder","_ref2","_ref3","_ref4","signup_form_inputs_PasswordInput","_Component","PasswordInput","_this","this","_toggleDialog","bind","_showDialog","_hideDialog","state","showDialog","setState","render","active","password","handlePasswordChange","onFocus","showPassword","onClick","toggleShowPassword","toast","signup_form__ref","signup_form_SignupForm","SignupForm","apply","arguments","formClasses","has-error","emailError","passwordError","btnClasses","loading","emailHintClasses","d-hide","passwordHintClasses","error","showServerError","serverError","handleSignup","signup_form_container_SignupFormContainer","SignupFormContainer","_temp","_ret","_len","length","args","Array","_key","concat","signupSuccess","_toggleShowPassword","_handleSignup","fetch","method","body","JSON","stringify","then","res","json","console","log","loginToken","window","sessionStorage","setItem","_handleEmailChange","e","target","_handlePasswordChange","componentWillUnmount","signup_Signup","Signup","formRail","handleSignupSuccess"],"mappings":"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","file":"route-signup.chunk.4bc3d.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ \"vRPq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./components/FlexContainer/index.js\nvar FlexContainer = __webpack_require__(\"o9Qj\");\n\n// EXTERNAL MODULE: ./api/index.js\nvar api = __webpack_require__(\"/C1n\");\n\n// EXTERNAL MODULE: ../node_modules/preact-router/dist/preact-router.es.js\nvar preact_router_es = __webpack_require__(\"/QC5\");\n\n// EXTERNAL MODULE: ../node_modules/validator/lib/isEmail.js\nvar isEmail = __webpack_require__(\"khkS\");\nvar isEmail_default = /*#__PURE__*/__webpack_require__.n(isEmail);\n\n// EXTERNAL MODULE: ../node_modules/classnames/index.js\nvar classnames = __webpack_require__(\"9qb7\");\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./components/dialog.js\nvar dialog = __webpack_require__(\"wI7h\");\n\n// CONCATENATED MODULE: ./routes/signup/signup-form-inputs.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar _ref = Object(preact_min[\"h\"])(\n   'label',\n   { 'class': 'form-label' },\n   'Email'\n);\n\nvar signup_form_inputs_EmailInput = function EmailInput(props) {\n   return Object(preact_min[\"h\"])(\n      'div',\n      null,\n      _ref,\n      Object(preact_min[\"h\"])('input', {\n         value: props.email,\n         onChange: props.handleEmailChange,\n         type: 'email',\n         'class': 'form-input',\n         placeholder: 'Your email'\n      })\n   );\n};\n\nvar _ref2 = Object(preact_min[\"h\"])(\n   'div',\n   { 'class': 'card' },\n   Object(preact_min[\"h\"])(\n      'div',\n      { 'class': 'card-body' },\n      'Make sure to use a strong password or phrase (i.e. more than 8 characters). You know the drill.'\n   )\n);\n\nvar _ref3 = Object(preact_min[\"h\"])(\n   'label',\n   { 'class': 'form-label' },\n   'Password'\n);\n\nvar _ref4 = Object(preact_min[\"h\"])('i', { 'class': 'form-icon' });\n\nvar signup_form_inputs_PasswordInput = function (_Component) {\n   _inherits(PasswordInput, _Component);\n\n   function PasswordInput(props) {\n      _classCallCheck(this, PasswordInput);\n\n      var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n      _this._toggleDialog = _this._toggleDialog.bind(_this);\n      _this._showDialog = _this._showDialog.bind(_this);\n      _this._hideDialog = _this._hideDialog.bind(_this);\n      _this.state = {\n         showDialog: false\n      };\n      return _this;\n   }\n\n   PasswordInput.prototype._toggleDialog = function _toggleDialog() {\n      var showDialog = !this.state.showDialog;\n      this.setState({ showDialog: showDialog });\n   };\n\n   PasswordInput.prototype._showDialog = function _showDialog() {\n      this.setState({ showDialog: true });\n   };\n\n   PasswordInput.prototype._hideDialog = function _hideDialog() {\n      this.setState({ showDialog: showDialog });\n   };\n\n   PasswordInput.prototype.render = function render(props) {\n      return Object(preact_min[\"h\"])(\n         'div',\n         null,\n         Object(preact_min[\"h\"])(\n            dialog[\"a\" /* Dialog */],\n            { active: this.state.showDialog },\n            _ref2\n         ),\n         _ref3,\n         Object(preact_min[\"h\"])('input', {\n            value: props.password,\n            onChange: props.handlePasswordChange,\n            onFocus: this._showDialog,\n            'class': 'form-input',\n            type: props.showPassword ? \"text\" : \"password\",\n            placeholder: 'Your password'\n         }),\n         Object(preact_min[\"h\"])(\n            'label',\n            { 'class': 'form-switch' },\n            Object(preact_min[\"h\"])('input', { type: 'checkbox',\n               onClick: props.toggleShowPassword\n            }),\n            _ref4,\n            'Show password'\n         )\n      );\n   };\n\n   return PasswordInput;\n}(preact_min[\"Component\"]);\n\n\n// EXTERNAL MODULE: ./components/toast.js\nvar toast = __webpack_require__(\"r33O\");\n\n// CONCATENATED MODULE: ./routes/signup/signup-form.js\n\n\nfunction signup_form__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction signup_form__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction signup_form__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\nvar signup_form__ref = Object(preact_min[\"h\"])(\n   'h1',\n   null,\n   'Signup'\n);\n\nvar signup_form_SignupForm = function (_Component) {\n   signup_form__inherits(SignupForm, _Component);\n\n   function SignupForm() {\n      signup_form__classCallCheck(this, SignupForm);\n\n      return signup_form__possibleConstructorReturn(this, _Component.apply(this, arguments));\n   }\n\n   SignupForm.prototype.render = function render(props) {\n      var formClasses = classnames_default()('form-group', { 'has-error': props.emailError || props.passwordError });\n\n      var btnClasses = classnames_default()('btn', 'btn-primary', { 'loading': props.loading });\n\n      var emailHintClasses = classnames_default()('form-input-hint', { 'd-hide': !props.emailError });\n\n      var passwordHintClasses = classnames_default()('form-input-hint', { 'd-hide': !props.passwordError });\n\n      return Object(preact_min[\"h\"])(\n         'div',\n         { 'class': formClasses },\n         signup_form__ref,\n         Object(preact_min[\"h\"])(\n            toast[\"a\" /* default */],\n            { error: true, active: props.showServerError },\n            props.serverError\n         ),\n         Object(preact_min[\"h\"])(signup_form_inputs_EmailInput, {\n            email: props.email,\n            handleEmailChange: props.handleEmailChange\n         }),\n         Object(preact_min[\"h\"])(\n            'p',\n            { 'class': emailHintClasses },\n            'Please enter a valid email address'\n         ),\n         Object(preact_min[\"h\"])(signup_form_inputs_PasswordInput, {\n            password: props.password,\n            handlePasswordChange: props.handlePasswordChange,\n            toggleShowPassword: props.toggleShowPassword,\n            showPassword: props.showPassword\n         }),\n         Object(preact_min[\"h\"])(\n            'p',\n            { 'class': passwordHintClasses },\n            'Every account needs a password...'\n         ),\n         Object(preact_min[\"h\"])(\n            'button',\n            {\n               'class': btnClasses,\n               onClick: props.handleSignup\n            },\n            'Create account'\n         )\n      );\n   };\n\n   return SignupForm;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ./routes/signup/signup-form-container.js\n\n\nfunction signup_form_container__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction signup_form_container__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction signup_form_container__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\nvar signup_form_container_SignupFormContainer = function (_Component) {\n   signup_form_container__inherits(SignupFormContainer, _Component);\n\n   function SignupFormContainer() {\n      var _temp, _this, _ret;\n\n      signup_form_container__classCallCheck(this, SignupFormContainer);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n         args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = signup_form_container__possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n         email: '',\n         emailError: false,\n         password: '',\n         passwordError: false,\n         showPassword: false,\n         serverError: '',\n         showServerError: false,\n         loading: false,\n         signupSuccess: false\n      }, _this._toggleShowPassword = function () {\n         var showPassword = !_this.state.showPassword;\n         _this.setState({ showPassword: showPassword });\n      }, _this._handleSignup = function () {\n         // if not valid email address\n         if (!isEmail_default()(_this.state.email)) {\n            // throw email error, don't submit\n            _this.setState({ emailError: true });\n            return;\n         } else {\n            _this.setState({ emailError: false });\n         }\n\n         // make sure there's a password\n         if (!_this.state.password) {\n            _this.setState({ passwordError: true });\n            return;\n         } else {\n            _this.setState({ passwordError: false });\n         }\n\n         _this.setState({ loading: true });\n\n         fetch(api[\"a\" /* default */] + '!newUser', {\n            method: \"POST\",\n            body: JSON.stringify({\n               email: _this.state.email,\n               password: _this.state.password\n            })\n         }).then(function (res) {\n            return res.json();\n         }).then(function (json) {\n            if (json.error) {\n               _this.setState({\n                  // display errors and remove loading spinner\n                  serverError: json.error,\n                  showServerError: true,\n                  loading: false\n               });\n            } else {\n               _this.setState({ loading: false });\n               console.log('JWT: ', json.loginToken);\n               window.sessionStorage.setItem(\"loginToken\", json.loginToken);\n               Object(preact_router_es[\"route\"])(\"/user\");\n            }\n         });\n      }, _this._handleEmailChange = function (e) {\n         _this.setState({ email: e.target.value });\n      }, _this._handlePasswordChange = function (e) {\n         _this.setState({ password: e.target.value });\n      }, _temp), signup_form_container__possibleConstructorReturn(_this, _ret);\n   }\n\n   SignupFormContainer.prototype.componentWillUnmount = function componentWillUnmount() {\n      this.setState({ email: '', password: '' });\n   };\n\n   SignupFormContainer.prototype.render = function render() {\n      return Object(preact_min[\"h\"])(signup_form_SignupForm, {\n\n         serverError: this.state.serverError,\n         showServerError: this.state.showServerError,\n\n         email: this.state.email,\n         emailError: this.state.emailError,\n         handleEmailChange: this._handleEmailChange,\n\n         password: this.state.password,\n         passwordError: this.state.passwordError,\n         handlePasswordChange: this._handlePasswordChange,\n\n         toggleShowPassword: this._toggleShowPassword,\n         showPassword: this.state.showPassword,\n\n         handleSignup: this._handleSignup,\n\n         loading: this.state.loading\n\n      });\n   };\n\n   return SignupFormContainer;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ../node_modules/babel-loader/lib??ref--0!./routes/signup/index.js\n\n\nfunction signup__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction signup__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction signup__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar signup_Signup = function (_Component) {\n   signup__inherits(Signup, _Component);\n\n   function Signup() {\n      signup__classCallCheck(this, Signup);\n\n      return signup__possibleConstructorReturn(this, _Component.apply(this, arguments));\n   }\n\n   Signup.prototype.render = function render(props) {\n      return Object(preact_min[\"h\"])(FlexContainer[\"a\" /* FlexContainer */], {\n         formRail: Object(preact_min[\"h\"])(signup_form_container_SignupFormContainer, {\n            handleSignupSuccess: function handleSignupSuccess(email) {\n               return props.handleSignupSuccess(email);\n            }\n         })\n      });\n   };\n\n   return Signup;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var signup = __webpack_exports__[\"default\"] = (signup_Signup);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-signup.chunk.4bc3d.js","import { Component } from 'preact';\n\nimport { Dialog } from '../../components/dialog';\n\nconst EmailInput = (props) => (\n   <div>\n      <label class=\"form-label\">Email</label>\n      <input\n         value={props.email}\n         onChange={props.handleEmailChange}\n         type=\"email\"\n         class=\"form-input\" \n         placeholder=\"Your email\"\n      />\n   </div>\n)\n\nclass PasswordInput extends Component {\n\n   constructor (props) {\n      super(props);\n      this._toggleDialog = this._toggleDialog.bind(this);\n      this._showDialog = this._showDialog.bind(this);\n      this._hideDialog = this._hideDialog.bind(this);\n      this.state = {\n         showDialog: false\n      };\n   }\n\n   _toggleDialog () {\n      let showDialog = !this.state.showDialog;\n      this.setState({ showDialog });\n   }\n\n   _showDialog () {\n      this.setState({ showDialog: true });\n   }\n\n   _hideDialog () {\n      this.setState({ showDialog });\n   }\n\n   render (props) {\n      return (\n         <div>\n\n            <Dialog active={ this.state.showDialog }>\n               <div class=\"card\">\n                  <div class=\"card-body\">\n                     Make sure to use a strong password or phrase (i.e. more\n                     than 8 characters). You know the drill.\n                  </div>\n               </div>\n            </Dialog>\n\n            <label class=\"form-label\">\n               Password\n            </label>\n            <input \n               value={ props.password }\n               onChange={ props.handlePasswordChange }\n               onFocus={ this._showDialog }\n               class=\"form-input\" \n               type={ props.showPassword ? \"text\" : \"password\" }\n               placeholder=\"Your password\"\n            />\n\n            <label class=\"form-switch\">\n               <input type=\"checkbox\" \n                  onClick={ props.toggleShowPassword } \n               />\n               <i class=\"form-icon\"></i>\n               Show password\n            </label>\n\n         </div>\n      )\n   }\n}\n\nexport { EmailInput, PasswordInput };\n\n\n\n// WEBPACK FOOTER //\n// ./routes/signup/signup-form-inputs.js","import { Component } from 'preact';\nimport classNames from 'classnames';\n\nimport { EmailInput, PasswordInput } from './signup-form-inputs';\nimport { Dialog } from '../../components/dialog';\nimport Toast from '../../components/toast';\n\nclass SignupForm extends Component {\n   render (props) {\n      let formClasses = classNames(\n         'form-group', { 'has-error': props.emailError || props.passwordError }\n      );\n\n      let btnClasses = classNames( \n         'btn', 'btn-primary', { 'loading': props.loading }\n      );\n\n      let emailHintClasses = classNames(\n         'form-input-hint', { 'd-hide': !props.emailError }\n      );\n\n      let passwordHintClasses = classNames(\n         'form-input-hint', { 'd-hide': !props.passwordError }\n      );\n\n\n      return (\n         <div class={ formClasses }>\n\n            <h1>Signup</h1>\n\n            <Toast error active={props.showServerError}>\n               {props.serverError}\n            </Toast>\n\n            <EmailInput \n               email={props.email}\n               handleEmailChange={props.handleEmailChange}\n            />\n\n            <p class={ emailHintClasses }>\n               Please enter a valid email address\n            </p>\n\n            <PasswordInput \n               password={props.password}\n               handlePasswordChange={props.handlePasswordChange}\n               toggleShowPassword={ props.toggleShowPassword }\n               showPassword={ props.showPassword }\n            />\n\n            <p class={ passwordHintClasses }>\n               Every account needs a password...\n            </p>\n\n            <button \n               class={ btnClasses }\n               onClick={ props.handleSignup }\n            >\n               Create account\n            </button>\n\n         </div>\n      )\n   }\n}\n\nexport { SignupForm };\n\n\n\n// WEBPACK FOOTER //\n// ./routes/signup/signup-form.js","import { h, Component } from 'preact';\nimport API_ENDPOINT from '../../api';\nimport { route } from 'preact-router';\nimport isEmail from 'validator/lib/isEmail';\n\nimport { SignupForm } from './signup-form';\n\nclass SignupFormContainer extends Component { \n   state = {\n      email: '',\n      emailError: false,\n      password: '',\n      passwordError: false,\n      showPassword: false,\n      serverError: '',\n      showServerError: false,\n      loading: false,\n      signupSuccess: false\n   }\n\n   _toggleShowPassword = () => {\n      let showPassword = !this.state.showPassword;\n      this.setState({ showPassword });\n   }\n\n   _handleSignup = () => {\n      // if not valid email address\n      if ( !(isEmail(this.state.email)) ) {\n         // throw email error, don't submit\n         this.setState({ emailError: true });\n         return\n      } else {\n         this.setState({ emailError: false });\n      }\n\n      // make sure there's a password\n      if (!this.state.password) {\n         this.setState({ passwordError: true });\n         return\n      } else { \n         this.setState({ passwordError: false }); \n      }\n\n\n      this.setState({ loading: true });\n\n      fetch(API_ENDPOINT + '!newUser', {\n         method: \"POST\",\n         body: JSON.stringify({\n            email: this.state.email,\n            password: this.state.password\n         })\n      })\n      .then(res => res.json())\n      .then(json => {\n         if (json.error) {\n            this.setState({ \n               // display errors and remove loading spinner\n               serverError: json.error, \n               showServerError: true,\n               loading: false\n            });\n         } else {\n            this.setState({ loading: false });\n            console.log('JWT: ', json.loginToken);\n            window.sessionStorage.setItem(\"loginToken\", json.loginToken);\n            route(\"/user\");\n         }\n      });\n   }\n\n   _handleEmailChange = (e) => {\n      this.setState({ email: e.target.value });\n   }\n\n   _handlePasswordChange = (e) => {\n      this.setState({ password: e.target.value });\n   }\n\n   componentWillUnmount () {\n      this.setState({ email: '', password: '' });\n   }\n\n   render () {\n      return (\n         <SignupForm \n\n            serverError={ this.state.serverError }\n            showServerError={ this.state.showServerError }\n\n            email={ this.state.email }\n            emailError={ this.state.emailError }\n            handleEmailChange={ this._handleEmailChange }\n\n            password={ this.state.password }\n            passwordError={ this.state.passwordError }\n            handlePasswordChange={ this._handlePasswordChange }\n\n            toggleShowPassword={ this._toggleShowPassword }\n            showPassword={ this.state.showPassword }\n\n            handleSignup={ this._handleSignup }\n\n            loading={ this.state.loading }\n\n         />\n      )\n   }\n}\n\nexport { SignupFormContainer };\n\n\n\n// WEBPACK FOOTER //\n// ./routes/signup/signup-form-container.js","import { h, Component } from 'preact';\n\nimport { FlexContainer } from '../../components/FlexContainer';\nimport { SignupFormContainer } from './signup-form-container';\n\nclass Signup extends Component {\n   render (props) {\n      return (\n         <FlexContainer \n            formRail={ \n               <SignupFormContainer \n                  handleSignupSuccess={ (email) => props.handleSignupSuccess(email) }\n               /> \n            } \n         />\n      );\n   }\n}\n\nexport default Signup;\n\n\n\n\n// WEBPACK FOOTER //\n// ./routes/signup/index.js"],"sourceRoot":""}