{"version":3,"sources":["webpack:///route-UserSettings.chunk.7c443.js","webpack:///./routes/UserSettings/UserAvatar.js","webpack:///./routes/UserSettings/index.js"],"names":["webpackJsonp","6U9T","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","UserSettings__classCallCheck","instance","Constructor","UserSettings__possibleConstructorReturn","UserSettings__inherits","defineProperty","preact_min","GridContainer","api","_ref","class","UserAvatar_UserAvatar","_Component","UserAvatar","_temp","_this","_ret","_len","arguments","length","args","Array","_key","this","apply","concat","state","file","src","onChange","e","setState","target","files","makeFileURL","reader","FileReader","readAsDataURL","onload","result","updUserAvatar","fetch","method","body","JSON","stringify","image","split","loginToken","window","sessionStorage","getItem","then","res","json","console","log","render","props","img","type","accept","onClick","UserSettings_UserAvatar","d","UserSettings_UserSettings","UserSettings__ref","_ref2","UserSettings","showModal","hideModal","avatarColumn","style","user","name","email","contentColumn"],"mappings":"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","file":"route-UserSettings.chunk.7c443.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ \"6U9T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ../node_modules/preact-router/dist/preact-router.es.js\nvar preact_router_es = __webpack_require__(\"/QC5\");\n\n// EXTERNAL MODULE: ./components/GridContainer/index.js\nvar GridContainer = __webpack_require__(\"v23/\");\n\n// EXTERNAL MODULE: ./api/index.js\nvar api = __webpack_require__(\"/C1n\");\n\n// CONCATENATED MODULE: ./routes/UserSettings/UserAvatar.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar _ref = Object(preact_min[\"h\"])(\n   'div',\n   { 'class': 'tile-content' },\n   Object(preact_min[\"h\"])(\n      'div',\n      { 'class': 'tile-title' },\n      'Avatar'\n   )\n);\n\nvar UserAvatar_UserAvatar = function (_Component) {\n   _inherits(UserAvatar, _Component);\n\n   function UserAvatar() {\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, UserAvatar);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n         args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n         file: '',\n         src: ''\n      }, _this.onChange = function (e) {\n         _this.setState({\n            file: e.target.files[0]\n         });\n         _this.makeFileURL();\n      }, _this.makeFileURL = function () {\n         var reader = new FileReader();\n         reader.readAsDataURL(_this.state.file);\n         reader.onload = function (e) {\n            _this.setState({ src: e.target.result });\n         };\n      }, _this.updUserAvatar = function () {\n         fetch(api[\"a\" /* default */] + \"!updUserAvatar\", {\n            method: 'POST',\n            body: JSON.stringify({\n               image: _this.state.src.split(',')[1],\n               loginToken: window.sessionStorage.getItem('loginToken')\n            })\n         }).then(function (res) {\n            return res.json();\n         }).then(function (json) {\n            console.log(json);\n         });\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n   }\n\n   UserAvatar.prototype.render = function render() {\n      return Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'tile' },\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'tile-icon' },\n            Object(preact_min[\"h\"])(\n               'figure',\n               { 'class': 'avatar avatar-lg' },\n               Object(preact_min[\"h\"])('img', { src: this.state.src || this.props.img })\n            )\n         ),\n         _ref,\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'tile-action' },\n            Object(preact_min[\"h\"])('input', { type: 'file', accept: '.png, .jpg, .jpeg',\n               value: this.state.file,\n               onChange: this.onChange\n            }),\n            Object(preact_min[\"h\"])(\n               'button',\n               { 'class': 'btn btn-primary',\n                  onClick: this.updUserAvatar\n               },\n               ' Update Avatar'\n            )\n         )\n      );\n   };\n\n   return UserAvatar;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var UserSettings_UserAvatar = (UserAvatar_UserAvatar);\n// CONCATENATED MODULE: ../node_modules/babel-loader/lib??ref--0!./routes/UserSettings/index.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UserSettings_UserSettings; });\n\n\nfunction UserSettings__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction UserSettings__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction UserSettings__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n// import style from './style';\n\n\n\n\n\nvar UserSettings__ref = Object(preact_min[\"h\"])(\n   'h3',\n   null,\n   'Settings'\n);\n\nvar _ref2 = Object(preact_min[\"h\"])('div', { 'class': 'divider' });\n\nvar UserSettings_UserSettings = function (_Component) {\n   UserSettings__inherits(UserSettings, _Component);\n\n   function UserSettings() {\n      var _temp, _this, _ret;\n\n      UserSettings__classCallCheck(this, UserSettings);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n         args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = UserSettings__possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n         showModal: true\n      }, _this.hideModal = function () {\n         _this.setState({ showModal: false });\n      }, _temp), UserSettings__possibleConstructorReturn(_this, _ret);\n   }\n\n   UserSettings.prototype.render = function render() {\n      return Object(preact_min[\"h\"])(GridContainer[\"a\" /* default */], {\n         avatarColumn: Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'menu', style: 'z-index:1;' },\n            Object(preact_min[\"h\"])(\n               'p',\n               null,\n               'logged in as: ',\n               this.props.user.name || this.props.user.email\n            )\n         ),\n\n         contentColumn: Object(preact_min[\"h\"])(\n            'div',\n            null,\n            UserSettings__ref,\n            _ref2,\n            Object(preact_min[\"h\"])(UserSettings_UserAvatar, { img: this.props.user.img })\n         )\n      });\n   };\n\n   return UserSettings;\n}(preact_min[\"Component\"]);\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-UserSettings.chunk.7c443.js","import { h, Component } from 'preact';\nimport API_ENDPOINT from '../../api';\nimport GridContainer from '../../components/GridContainer';\n\nclass UserAvatar extends Component {\n   state = {\n      file: '',\n      src: ''\n   }\n\n   onChange = (e) => {\n      this.setState({ \n         file: e.target.files[0]\n      });\n      this.makeFileURL();\n   }\n\n   makeFileURL = () => {\n      let reader = new FileReader();\n      reader.readAsDataURL(this.state.file);\n      reader.onload = (e) => {\n        this.setState({ src: e.target.result });\n      }\n   }\n\n   updUserAvatar = () => {\n      fetch(API_ENDPOINT + \"!updUserAvatar\", {\n         method: 'POST',\n         body: JSON.stringify({\n            image: this.state.src.split(',')[1],\n            loginToken: window.sessionStorage.getItem('loginToken')\n         })\n      })\n      .then(res => res.json())\n      .then(json => {\n         console.log(json);\n      })\n   }\n\n   render () {\n      return (\n         <div class=\"tile\">\n            <div class=\"tile-icon\">\n               <figure class=\"avatar avatar-lg\">\n                  <img src={this.state.src || this.props.img} />\n               </figure>\n            </div>\n            <div class=\"tile-content\">\n               <div class=\"tile-title\">\n                  Avatar\n               </div>\n            </div>\n            <div class=\"tile-action\">\n               <input type=\"file\" accept=\".png, .jpg, .jpeg\"\n                  value={this.state.file} \n                  onChange={this.onChange}\n               />\n               <button class=\"btn btn-primary\"\n                  onClick={this.updUserAvatar}\n               > Update Avatar\n               </button>\n            </div>\n         </div>\n      )\n   }\n}\n\nexport default UserAvatar;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/UserSettings/UserAvatar.js","import { h, Component } from 'preact';\nimport { route } from 'preact-router';\n// import style from './style';\n\nimport GridContainer from '../../components/GridContainer';\n\nimport UserAvatar from './UserAvatar';\n\nexport default class UserSettings extends Component {\n   state = {\n      showModal: true,\n   }\n\n   hideModal = () => {\n      this.setState({ showModal: false });\n   }\n\n   render() {\n      return (\n         <GridContainer\n            avatarColumn={\n               <div class=\"menu\" style=\"z-index:1;\">\n                  <p>logged in as: {this.props.user.name || this.props.user.email}</p>\n               </div>\n            }\n\n            contentColumn={\n               <div>\n                  <h3>Settings</h3>\n                  <div class=\"divider\" />\n                  <UserAvatar img={this.props.user.img}/>\n               </div>\n            }\n         />\n      );\n   }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./routes/UserSettings/index.js"],"sourceRoot":""}