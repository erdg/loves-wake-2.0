{"version":3,"sources":["webpack:///route-ManageMemorial.chunk.ab89c.js","webpack:///./routes/ManageMemorial/ContentList.js","webpack:///./routes/ManageMemorial/EditCard.js","webpack:///./routes/ManageMemorial/EditModal.js","webpack:///./routes/ManageMemorial/PublicUrl.js","webpack:///./routes/ManageMemorial/index.js"],"names":["webpackJsonp","FoBm","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","ManageMemorial__classCallCheck","instance","Constructor","ManageMemorial__possibleConstructorReturn","ManageMemorial__inherits","defineProperty","preact_min","preact_router_es","_ref","ContentList_ContentList","props","class","onClick","newItem","items","map","item","ContentList_ContentTile","id","title","date","start","location","src","showModal","edited","style","ManageMemorial_ContentList","classnames","classnames_default","n","form_inputs","EditCard_EditCard","alt","caption","ManageMemorial_EditCard","EditModal_EditModal","_Component","EditModal","this","apply","arguments","render","modalClasses","active","has-error","modalError","hideModal","aria-label","label","name","onChange","type","accept","file","onFileChange","updChronicle","newChronicle","ManageMemorial_EditModal","PublicUrl_PublicUrl","nm1","urlStr","urlNm","ManageMemorial_PublicUrl","ManageMemorial_ManageMemorial","ManageMemorial","_temp","_this","_ret","_len","length","args","Array","_key","concat","state","e","newState","target","setState","oldState","files","makeFileURL","reader","FileReader","onload","result","readAsDataURL","console","log","memorial","user","memorials","find","m","oldItem","_this2","nm","avatar"],"mappings":"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","file":"route-ManageMemorial.chunk.ab89c.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ \"FoBm\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./api/index.js\nvar api = __webpack_require__(\"/C1n\");\n\n// EXTERNAL MODULE: ../node_modules/preact-router/dist/preact-router.es.js\nvar preact_router_es = __webpack_require__(\"/QC5\");\n\n// CONCATENATED MODULE: ./routes/ManageMemorial/ContentList.js\n\n\n\n\nvar _ref = Object(preact_min[\"h\"])(\n   'h3',\n   null,\n   'Items'\n);\n\nvar ContentList_ContentList = function ContentList(props) {\n   return Object(preact_min[\"h\"])(\n      'div',\n      null,\n      _ref,\n      Object(preact_min[\"h\"])(\n         'button',\n         {\n            'class': 'btn btn-primary',\n            onClick: props.newItem\n         },\n         'Add Item'\n      ),\n      props.items.map(function (item) {\n         return Object(preact_min[\"h\"])(ContentList_ContentTile, {\n            id: item.id,\n            title: item.title,\n            date: item.start,\n            location: item.location,\n            src: item.src,\n            showModal: function showModal(id) {\n               return props.showModal(id);\n            },\n            edited: item.edited\n         });\n      })\n   );\n};\n\nvar ContentList_ContentTile = function ContentTile(props) {\n   return Object(preact_min[\"h\"])(\n      'div',\n      { 'class': 'tile', style: \"max-width: 500px;\" + (props.edited ? \"background:lightcoral;\" : \"\") },\n      Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'tile-icon' },\n         Object(preact_min[\"h\"])('img', { 'class': 'responsive-img', src: props.src, style: 'max-width:200px' })\n      ),\n      Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'tile-content' },\n         Object(preact_min[\"h\"])(\n            'p',\n            { 'class': 'tile-title' },\n            props.title\n         ),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'tile-subtitle text-gray' },\n            props.location\n         ),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'tile-subtitle text-gray' },\n            props.date\n         )\n      ),\n      Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'tile-action' },\n         Object(preact_min[\"h\"])(\n            'button',\n            {\n               'class': 'btn',\n               onClick: function onClick(id) {\n                  return props.showModal(props.id);\n               }\n            },\n            'Edit item'\n         )\n      )\n   );\n};\n\n/* harmony default export */ var ManageMemorial_ContentList = (ContentList_ContentList);\n// EXTERNAL MODULE: ../node_modules/classnames/index.js\nvar classnames = __webpack_require__(\"9qb7\");\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./components/form-inputs/index.js\nvar form_inputs = __webpack_require__(\"AM5m\");\n\n// CONCATENATED MODULE: ./routes/ManageMemorial/EditCard.js\n\n\n\nvar EditCard_EditCard = function EditCard(props) {\n   return Object(preact_min[\"h\"])(\n      \"div\",\n      { \"class\": \"panel\" },\n      Object(preact_min[\"h\"])(\n         \"div\",\n         { \"class\": \"panel-body mt-2\" },\n         props.item.src && Object(preact_min[\"h\"])(\"img\", {\n            src: props.item.src,\n            alt: props.item.title,\n            \"class\": \"img-responsive my-2\"\n         }),\n         Object(preact_min[\"h\"])(\n            \"h4\",\n            null,\n            props.item.title\n         ),\n         Object(preact_min[\"h\"])(\n            \"div\",\n            { \"class\": \"text-gray d-inline\" },\n            props.item.location\n         ),\n         Object(preact_min[\"h\"])(\n            \"div\",\n            { \"class\": \"text-gray d-inline mx-2\" },\n            props.item.start\n         ),\n         Object(preact_min[\"h\"])(\n            \"p\",\n            null,\n            props.item.caption\n         )\n      )\n   );\n};\n\n/* harmony default export */ var ManageMemorial_EditCard = (EditCard_EditCard);\n// CONCATENATED MODULE: ./routes/ManageMemorial/EditModal.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n// edit a chronicle item\n\nvar EditModal_EditModal = function (_Component) {\n   _inherits(EditModal, _Component);\n\n   function EditModal() {\n      _classCallCheck(this, EditModal);\n\n      return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n   }\n\n   EditModal.prototype.render = function render(props) {\n      var modalClasses = classnames_default()(\"modal\", \"modal-lg\", { \"active\": props.showModal }, { \"has-error\": props.modalError });\n\n      return Object(preact_min[\"h\"])(\n         'div',\n         { 'class': modalClasses },\n         Object(preact_min[\"h\"])('a', { onClick: props.hideModal,\n            'class': 'modal-overlay',\n            'aria-label': 'Close'\n         }),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'modal-container' },\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'modal-header' },\n               Object(preact_min[\"h\"])('a', { onClick: props.hideModal,\n                  'class': 'btn btn-clear float-right',\n                  'aria-label': 'Close'\n               }),\n               Object(preact_min[\"h\"])(\n                  'div',\n                  { 'class': 'modal-title h5' },\n                  props.item.id ? \"Edit Item\" : \"Add Item\"\n               )\n            ),\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'modal-body' },\n               Object(preact_min[\"h\"])(\n                  'div',\n                  { 'class': 'content container columns' },\n                  Object(preact_min[\"h\"])(\n                     'div',\n                     { 'class': 'column col-6' },\n                     Object(preact_min[\"h\"])(ManageMemorial_EditCard, { item: props.item })\n                  ),\n                  Object(preact_min[\"h\"])(\n                     'form',\n                     { 'class': 'form-group column col-6' },\n                     Object(preact_min[\"h\"])(form_inputs[\"e\" /* TextInput */], {\n                        label: 'Title',\n                        name: 'title',\n                        value: props.item.title,\n                        onChange: props.onChange\n                     }),\n                     Object(preact_min[\"h\"])(form_inputs[\"e\" /* TextInput */], {\n                        label: 'Location',\n                        name: 'location',\n                        value: props.item.location,\n                        onChange: props.onChange\n                     }),\n                     Object(preact_min[\"h\"])(form_inputs[\"a\" /* DateInput */], {\n                        label: 'Date',\n                        name: 'start',\n                        value: props.item.start,\n                        onChange: props.onChange\n                     }),\n                     Object(preact_min[\"h\"])(\n                        'label',\n                        {\n                           'class': 'form-label'\n                        },\n                        'Change photo',\n                        Object(preact_min[\"h\"])('input', {\n                           'class': 'form-input',\n                           type: 'file',\n                           accept: '.jpg, .jpeg, .png',\n                           value: props.item.file,\n                           onChange: props.onFileChange\n                        })\n                     )\n                  )\n               )\n            ),\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'modal-footer' },\n               Object(preact_min[\"h\"])(\n                  'button',\n                  {\n                     'class': 'btn btn-primary',\n                     onClick: props.item.id ? props.updChronicle : props.newChronicle\n                  },\n                  props.item.id ? \"Update item\" : \"Add item\"\n               )\n            )\n         )\n      );\n   };\n\n   return EditModal;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var ManageMemorial_EditModal = (EditModal_EditModal);\n// CONCATENATED MODULE: ./routes/ManageMemorial/PublicUrl.js\n\n\n\nvar PublicUrl_PublicUrl = function PublicUrl(props) {\n   return Object(preact_min[\"h\"])(\n      'p',\n      null,\n      'The public url for ',\n      props.nm1,\n      '\\'s Chronicle is',\n      Object(preact_min[\"h\"])(\n         'button',\n         {\n            'class': 'btn btn-link',\n            onClick: function onClick() {\n               return Object(preact_router_es[\"route\"])('/' + props.urlStr + '/' + props.urlNm + '/chronicle');\n            }\n         },\n         '/' + props.urlStr + '/' + props.urlNm + '/chronicle'\n      )\n   );\n};\n\n/* harmony default export */ var ManageMemorial_PublicUrl = (PublicUrl_PublicUrl);\n// CONCATENATED MODULE: ../node_modules/babel-loader/lib??ref--0!./routes/ManageMemorial/index.js\n\n\nfunction ManageMemorial__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction ManageMemorial__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction ManageMemorial__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\nvar ManageMemorial_ManageMemorial = function (_Component) {\n   ManageMemorial__inherits(ManageMemorial, _Component);\n\n   function ManageMemorial() {\n      var _temp, _this, _ret;\n\n      ManageMemorial__classCallCheck(this, ManageMemorial);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n         args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = ManageMemorial__possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n         item: {},\n         showModal: false\n      }, _this.onChange = function (e) {\n         var oldState = _this.state.item;\n         var newState = _this.state.item;\n         newState[e.target.name] = e.target.value;\n         _this.setState({ oldState: newState });\n      }, _this.onFileChange = function (e) {\n         var oldState = _this.state.item;\n         var newState = _this.state.item;\n         newState[\"file\"] = e.target.files[0];\n         _this.setState({ oldState: newState });\n         // needed to do this as a separate step so the state\n         // updates properly. which means this is a hack.\n         _this.makeFileURL();\n      }, _this.makeFileURL = function () {\n         var oldState = _this.state.item;\n         var newState = _this.state.item;\n         var reader = new FileReader();\n\n         reader.onload = function (e) {\n            newState[\"src\"] = e.target.result;\n            _this.setState({ oldState: newState });\n         };\n\n         reader.readAsDataURL(_this.state.item.file);\n      }, _this.updChronicle = function () {\n         console.log('updChronicle');\n         _this.hideModal();\n         var oldState = _this.state.item;\n         var newState = _this.state.item;\n         newState[\"edited\"] = false;\n         _this.setState({ oldState: newState });\n      }, _this.newChronicle = function () {\n         _this.hideModal();\n         console.log('newChronicle');\n      }, _this.showModal = function (id) {\n         var memorial = _this.props.user.memorials.find(function (m) {\n            return m.urlNm === _this.props.urlNm;\n         });\n         _this.setState({ showModal: true, item: memorial.items.find(function (item) {\n               return item.id === id;\n            }) });\n      }, _this.hideModal = function () {\n         var oldItem = _this.state.item;\n         var newItem = _this.state.item;\n         newItem[\"edited\"] = true;\n         _this.setState({\n            showModal: false,\n            modalError: false,\n            oldItem: newItem\n         });\n      }, _this.newItem = function () {\n         _this.showModal();\n         _this.setState({ item: {} });\n      }, _temp), ManageMemorial__possibleConstructorReturn(_this, _ret);\n   }\n\n   ManageMemorial.prototype.render = function render() {\n      var _this2 = this;\n\n      var memorial = this.props.user.memorials.find(function (m) {\n         return m.urlNm === _this2.props.urlNm;\n      });\n      return Object(preact_min[\"h\"])(\n         'div',\n         null,\n         Object(preact_min[\"h\"])(\n            'h2',\n            null,\n            memorial.nm\n         ),\n         Object(preact_min[\"h\"])(\n            'figure',\n            { 'class': 'avatar avatar-xxl' },\n            Object(preact_min[\"h\"])('img', { src: memorial.avatar })\n         ),\n         Object(preact_min[\"h\"])(ManageMemorial_PublicUrl, { nm1: memorial.nm1, urlStr: memorial.urlStr, urlNm: memorial.urlNm }),\n         Object(preact_min[\"h\"])(ManageMemorial_ContentList, {\n            showModal: this.showModal,\n            items: memorial.items,\n            newItem: this.newItem\n         }),\n         Object(preact_min[\"h\"])(ManageMemorial_EditModal, {\n            showModal: this.state.showModal,\n            hideModal: this.hideModal,\n\n            updChronicle: this.updChronicle,\n            newChronicle: this.newChronicle,\n\n            onChange: this.onChange,\n            onFileChange: this.onFileChange,\n\n            item: this.state.item\n         })\n      );\n   };\n\n   return ManageMemorial;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var lib__ref__0_routes_ManageMemorial = __webpack_exports__[\"default\"] = (ManageMemorial_ManageMemorial);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-ManageMemorial.chunk.ab89c.js","import { h, Component } from 'preact';\nimport { route } from 'preact-router';\n\nconst ContentList = (props) => (\n   <div>\n      <h3>Items</h3>\n      <button\n         class=\"btn btn-primary\"\n         onClick={props.newItem}\n      >\n         Add Item\n      </button>\n      { \n         props.items.map((item) => (\n            <ContentTile \n               id={item.id}\n               title={item.title} \n               date={item.start} \n               location={item.location} \n               src={item.src}\n               showModal={(id) => props.showModal(id)}\n               edited={item.edited}\n            />\n         ))\n      }\n   </div>\n)\n\nconst ContentTile = (props) => (\n   <div class=\"tile\" style={\"max-width: 500px;\" + (props.edited ? \"background:lightcoral;\" : \"\")}>\n      <div class=\"tile-icon\">\n         <img class=\"responsive-img\" src={props.src} style=\"max-width:200px\"/>\n      </div>\n      <div class=\"tile-content\">\n         <p class=\"tile-title\">{props.title}</p>\n         <div class=\"tile-subtitle text-gray\">{props.location}</div>\n         <div class=\"tile-subtitle text-gray\">{props.date}</div>\n      </div>\n      <div class=\"tile-action\">\n         <button \n            class=\"btn\"\n            onClick={(id) => props.showModal(props.id)}\n         > \n            Edit item\n         </button>\n      </div>\n   </div>\n)\n\nexport default ContentList;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/ContentList.js","import { h, Component } from 'preact';\n\nconst EditCard = (props) => (\n\n   <div class={ \"panel\" }>\n\n      <div class=\"panel-body mt-2\">\n\n         {/* no need to render image if it doesn't exist */}\n         { props.item.src &&\n            <img \n               src={props.item.src} \n               alt={props.item.title} \n               class=\"img-responsive my-2\"\n            />\n         }\n\n         <h4>{props.item.title}</h4>\n\n         <div class=\"text-gray d-inline\">{props.item.location}</div> \n         <div class=\"text-gray d-inline mx-2\">{props.item.start}</div>\n\n         <p>{props.item.caption}</p>\n\n      </div>\n\n      {/*\n      <div class=\"card-footer\">\n         <button class=\"btn btn-primary\">Do</button>\n      </div>\n      */}\n\n   </div>\n)\n\nexport default EditCard;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/EditCard.js","import { h, Component } from 'preact';\nimport classnames from 'classnames';\nimport { TextArea, TextInput, DateInput } from '../../components/form-inputs';\nimport EditCard from './EditCard';\n\n// edit a chronicle item\nclass EditModal extends Component {\n\n   render (props) {\n      let modalClasses = classnames(\n         \"modal\", \"modal-lg\", { \"active\": props.showModal }, { \"has-error\": props.modalError}\n      );\n\n      return (\n         <div class={modalClasses}>\n\n            <a onClick={props.hideModal} \n               class=\"modal-overlay\" \n               aria-label=\"Close\" \n            />\n\n            <div class=\"modal-container\">\n\n               <div class=\"modal-header\">\n\n                  <a onClick={props.hideModal} \n                     class=\"btn btn-clear float-right\" \n                     aria-label=\"Close\"\n                  />\n\n                  <div class=\"modal-title h5\">\n                     { props.item.id ?\n                        \"Edit Item\"\n                           :\n                        \"Add Item\"\n                     }\n                  </div>\n\n               </div>\n\n               <div class=\"modal-body\">\n                  <div class=\"content container columns\">\n\n                     <div class=\"column col-6\">\n                        <EditCard item={props.item} />\n                     </div>\n\n                     {/* <div class=\"column col-1 divider-vert\" /> */}\n\n                     <form class=\"form-group column col-6\">\n\n                        <TextInput \n                           label=\"Title\" \n                           name=\"title\" \n                           value={props.item.title} \n                           onChange={props.onChange} \n                        />\n\n                        {/*\n                        <TextInput \n                           label=\"Subtitle\" \n                           name=\"subtitle\"\n                           value={props.subtitle}\n                           onChange={props.onChange}\n                        />\n                        */}\n\n                        <TextInput \n                           label=\"Location\" \n                           name=\"location\"\n                           value={props.item.location}\n                           onChange={props.onChange}\n                        />\n\n                        <DateInput \n                           label=\"Date\" \n                           name=\"start\"\n                           value={props.item.start}\n                           onChange={props.onChange}\n                        />\n\n                        {/*\n                        <TextArea \n                           label=\"Caption\" \n                           rows=\"6\"\n                           name=\"txt\"\n                           value={props.txt}\n                           onChange={props.onChange}\n                        />\n                        */}\n\n                        <label\n                           class=\"form-label\"\n                        >\n                           Change photo\n                           <input \n                              class=\"form-input\"\n                              type=\"file\" \n                              accept=\".jpg, .jpeg, .png\"\n                              value={props.item.file} \n                              onChange={props.onFileChange}\n                           />\n                        </label>\n\n                     </form>\n\n                  </div>\n\n               </div>\n\n\n               <div class=\"modal-footer\">\n\n                  <button \n                     class=\"btn btn-primary\"\n                     onClick={ props.item.id ? props.updChronicle : props.newChronicle } \n                  >\n                     { props.item.id ?\n                        \"Update item\"\n                           :\n                        \"Add item\"\n                     }\n                  </button>\n\n               </div>\n\n            </div>\n\n         </div>\n      );\n   }\n\n}\n\nexport default EditModal;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/EditModal.js","import { route } from 'preact-router';\n\nconst PublicUrl = (props) => {\n   return (\n      <p>\n         The public url for {props.nm1}'s Chronicle is\n         <button \n            class=\"btn btn-link\" \n            onClick={() => route('/' + props.urlStr + '/' + props.urlNm + '/chronicle')}\n         >\n            {'/' + props.urlStr + '/' + props.urlNm + '/chronicle'}\n         </button>\n      </p>\n   )\n}\n\nexport default PublicUrl;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/PublicUrl.js","import { h, Component } from 'preact';\nimport API_ENDPOINT from '../../api';\n\nimport ContentList from './ContentList';\nimport EditModal from './EditModal';\nimport PublicUrl from './PublicUrl';\n\nclass ManageMemorial extends Component {\n   state = {\n      item: {},\n      showModal: false\n   }\n\n   onChange = (e) => {\n      let oldState = this.state.item;\n      let newState = this.state.item;\n      newState[e.target.name] = e.target.value;\n      this.setState({ oldState: newState });\n   }\n\n   onFileChange = (e) => {\n      let oldState = this.state.item;\n      let newState = this.state.item;\n      newState[\"file\"] = e.target.files[0];\n      this.setState({ oldState: newState });\n      // needed to do this as a separate step so the state\n      // updates properly. which means this is a hack.\n      this.makeFileURL();\n   }\n\n   makeFileURL = () => {\n      let oldState = this.state.item;\n      let newState = this.state.item;\n      let reader = new FileReader();\n\n      reader.onload = (e) => {\n        newState[\"src\"] = e.target.result;\n        this.setState({ oldState: newState })\n      }\n\n      reader.readAsDataURL(this.state.item.file);\n   }\n\n   updChronicle = () => {\n      console.log('updChronicle');\n      this.hideModal();\n      let oldState = this.state.item;\n      let newState = this.state.item;\n      newState[\"edited\"] = false;\n      this.setState({ oldState: newState });\n   }\n\n   newChronicle = () => {\n      this.hideModal();\n      console.log('newChronicle');\n   }\n\n   showModal = (id) => {\n      let memorial = this.props.user.memorials.find(m => m.urlNm === this.props.urlNm);\n      this.setState({ showModal: true, item: memorial.items.find(item => item.id === id) });\n   }\n\n   hideModal = () => {\n      let oldItem = this.state.item;\n      let newItem = this.state.item;\n      newItem[\"edited\"] = true;\n      this.setState({ \n         showModal: false, \n         modalError: false,\n         oldItem: newItem\n      });\n   }\n\n   newItem = () => {\n      this.showModal();\n      this.setState({ item: {} });\n   }\n\n   render () {\n      let memorial = this.props.user.memorials.find(m => m.urlNm === this.props.urlNm);\n      return (\n         <div>\n            <h2>{memorial.nm}</h2>\n            <figure class=\"avatar avatar-xxl\">\n               <img src={memorial.avatar} />\n            </figure>\n            <PublicUrl nm1={memorial.nm1} urlStr={memorial.urlStr} urlNm={memorial.urlNm}/>\n            <ContentList \n               showModal={this.showModal} \n               items={memorial.items} \n               newItem={this.newItem}\n            />\n            <EditModal \n               showModal={this.state.showModal}\n               hideModal={this.hideModal}\n\n               updChronicle={this.updChronicle}\n               newChronicle={this.newChronicle}\n\n               onChange={this.onChange}\n               onFileChange={this.onFileChange}\n\n               item={this.state.item}\n            />\n         </div>\n      )\n   }\n}\n\nexport default ManageMemorial;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/index.js"],"sourceRoot":""}