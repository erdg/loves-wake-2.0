{"version":3,"sources":["webpack:///route-ManageMemorial.chunk.b95cd.js","webpack:///./routes/ManageMemorial/ContentList.js","webpack:///./routes/ManageMemorial/EditCard.js","webpack:///./routes/ManageMemorial/EditModal.js","webpack:///./routes/ManageMemorial/BulkImport.js","webpack:///./routes/ManageMemorial/InvitationModal.js","webpack:///./routes/ManageMemorial/Invitations.js","webpack:///./routes/ManageMemorial/index.js"],"names":["webpackJsonp","FoBm","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","BulkImport__classCallCheck","instance","Constructor","BulkImport__possibleConstructorReturn","BulkImport__inherits","InvitationModal__classCallCheck","InvitationModal__possibleConstructorReturn","InvitationModal__inherits","Invitations__classCallCheck","Invitations__possibleConstructorReturn","Invitations__inherits","ManageMemorial__classCallCheck","ManageMemorial__possibleConstructorReturn","ManageMemorial__inherits","defineProperty","preact_min","api","preact_router_es","GridContainer","_ref","class","_ref2","_ref3","ContentList_ContentList","props","onClick","newItem","style","items","map","item","ContentList_ContentCard","id","title","date","start","location","src","showModal","edited","ManageMemorial_ContentList","classnames","classnames_default","n","form_inputs","EditCard_EditCard","alt","caption","ManageMemorial_EditCard","EditModal__ref","EditModal_EditModal","_Component","EditModal","this","apply","arguments","render","modalClasses","active","has-error","modalError","width","window","innerWidth","document","documentElement","clientWidth","body","client","hideModal","aria-label","label","name","onChange","type","accept","file","onFileChange","updChronicle","newChronicle","ManageMemorial_EditModal","BulkImport__ref","BulkImport_BulkImport","BulkImport","_temp","_this","_ret","_len","length","args","Array","_key","concat","state","files","filesUploaded","e","setState","target","bulkImport","alert","cnt","nextFile","reader","FileReader","readAsDataURL","onload","str","result","split","fetch","method","JSON","stringify","loginToken","sessionStorage","getItem","urlNm","image","then","res","json","prevState","console","log","multiple","role","aria-valuenow","toString","aria-valuemin","aria-valuemax","ManageMemorial_BulkImport","isEmail","isEmail_default","marked","marked_default","InvitationModal__ref","InvitationModal__ref2","InvitationModal_InvitationModal","InvitationModal","_this$setState","a","setOptions","sanitize","invitation","memorial","d-hide","nm1","rows","onInput","dangerouslySetInnerHTML","__html","ManageMemorial_InvitationModal","Invitations__ref","Invitations__ref2","Invitations__ref3","_ref4","Invitations_Invitations","Invitations","email","emails","emailError","filter","_handleEmailChange","_addEmail","preventDefault","_removeEmail","updEmails","_this2","formClasses","emailHintClasses","data-badge","includes","ManageMemorial_Invitations","ManageMemorial__ref","ManageMemorial__ref2","ManageMemorial__ref3","ManageMemorial_ManageMemorial","ManageMemorial","newState","oldState","makeFileURL","txt","subtitle","addItem","user","memorials","find","m","oldItem","avatarColumn","avatar","nm","href","urlStr","contentColumn"],"mappings":"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","file":"route-ManageMemorial.chunk.b95cd.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ \"FoBm\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./api/index.js\nvar api = __webpack_require__(\"/C1n\");\n\n// EXTERNAL MODULE: ../node_modules/preact-router/dist/preact-router.es.js\nvar preact_router_es = __webpack_require__(\"/QC5\");\n\n// EXTERNAL MODULE: ./components/GridContainer/index.js\nvar GridContainer = __webpack_require__(\"v23/\");\n\n// CONCATENATED MODULE: ./routes/ManageMemorial/ContentList.js\n\n\n\n\nvar _ref = Object(preact_min[\"h\"])(\n   'h4',\n   { 'class': 'col' },\n   'Chronicle Items'\n);\n\nvar _ref2 = Object(preact_min[\"h\"])('div', { 'class': 'col' });\n\nvar _ref3 = Object(preact_min[\"h\"])('div', { 'class': 'divider' });\n\nvar ContentList_ContentList = function ContentList(props) {\n   return Object(preact_min[\"h\"])(\n      'div',\n      null,\n      Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'row' },\n         _ref,\n         _ref2,\n         Object(preact_min[\"h\"])(\n            'button',\n            {\n               'class': 'col btn btn-primary',\n               onClick: props.newItem\n            },\n            'Add Item'\n         )\n      ),\n      _ref3,\n      Object(preact_min[\"h\"])(\n         'div',\n         {\n            style: \"display:flex;\" + \"flex-direction:row;\" + \"flex-wrap:wrap;\" + \"align-items:flex-start;\" + \"justify-content:center;\"\n         },\n         props.items.map(function (item) {\n            return Object(preact_min[\"h\"])(ContentList_ContentCard, {\n               id: item.id,\n               title: item.title,\n               date: item.start,\n               location: item.location,\n               src: item.src,\n               showModal: function showModal(id) {\n                  return props.showModal(id);\n               },\n               edited: item.edited\n            });\n         })\n      )\n   );\n};\n\nvar ContentList_ContentCard = function ContentCard(props) {\n   return Object(preact_min[\"h\"])(\n      'div',\n      { 'class': 'card m-2', style: \"width:200px;\" },\n      props.src && Object(preact_min[\"h\"])('img', { 'class': 'responsive-img mt-2 mx-2 centered', src: props.src, style: 'max-width:182px' }),\n      Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'card-body' },\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'h6 text-ellipsis' },\n            props.title\n         ),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'text-gray text-ellipsis', style: 'font-size:smaller;' },\n            props.location\n         ),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'text-gray', style: 'font-size:smaller;' },\n            props.date\n         )\n      ),\n      Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'card-footer' },\n         Object(preact_min[\"h\"])(\n            'button',\n            {\n               'class': 'btn btn-sm float-right',\n               onClick: function onClick(id) {\n                  return props.showModal(props.id);\n               }\n            },\n            'edit'\n         )\n      )\n   );\n};\n\n/* harmony default export */ var ManageMemorial_ContentList = (ContentList_ContentList);\n// EXTERNAL MODULE: ../node_modules/classnames/index.js\nvar classnames = __webpack_require__(\"9qb7\");\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./components/form-inputs/index.js\nvar form_inputs = __webpack_require__(\"AM5m\");\n\n// CONCATENATED MODULE: ./routes/ManageMemorial/EditCard.js\n\n\n\nvar EditCard_EditCard = function EditCard(props) {\n   return Object(preact_min[\"h\"])(\n      \"div\",\n      { \"class\": \"panel\" },\n      Object(preact_min[\"h\"])(\n         \"div\",\n         { \"class\": \"panel-body mt-2\" },\n         props.item.src && Object(preact_min[\"h\"])(\"img\", {\n            src: props.item.src,\n            alt: props.item.title,\n            \"class\": \"img-responsive my-2\"\n         }),\n         Object(preact_min[\"h\"])(\n            \"h4\",\n            null,\n            props.item.title\n         ),\n         Object(preact_min[\"h\"])(\n            \"div\",\n            { \"class\": \"text-gray d-inline\" },\n            props.item.location\n         ),\n         Object(preact_min[\"h\"])(\n            \"div\",\n            { \"class\": \"text-gray d-inline mx-2\" },\n            props.item.start\n         ),\n         Object(preact_min[\"h\"])(\n            \"p\",\n            null,\n            props.item.caption\n         )\n      )\n   );\n};\n\n/* harmony default export */ var ManageMemorial_EditCard = (EditCard_EditCard);\n// CONCATENATED MODULE: ./routes/ManageMemorial/EditModal.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n// edit a chronicle item\n\nvar EditModal__ref = Object(preact_min[\"h\"])(\n   'div',\n   { 'class': 'text-center text-gray', style: 'font-size:smaller;' },\n   '- Scroll down to see a preview -'\n);\n\nvar EditModal_EditModal = function (_Component) {\n   _inherits(EditModal, _Component);\n\n   function EditModal() {\n      _classCallCheck(this, EditModal);\n\n      return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n   }\n\n   EditModal.prototype.render = function render(props) {\n      var modalClasses = classnames_default()(\"modal\", \"modal-lg\", { \"active\": props.showModal }, { \"has-error\": props.modalError });\n\n      var width = window.innerWidth || document.documentElement.clientWidth || document.body.client.width;\n\n      return Object(preact_min[\"h\"])(\n         'div',\n         { 'class': modalClasses },\n         Object(preact_min[\"h\"])('a', { onClick: props.hideModal,\n            'class': 'modal-overlay',\n            'aria-label': 'Close'\n         }),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'modal-container' },\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'modal-header' },\n               Object(preact_min[\"h\"])('a', { onClick: props.hideModal,\n                  'class': 'btn btn-clear float-right',\n                  'aria-label': 'Close'\n               }),\n               Object(preact_min[\"h\"])(\n                  'div',\n                  { 'class': 'modal-title h5' },\n                  props.item.id ? \"Edit Item\" : \"Add Item\"\n               ),\n               width < 840 && EditModal__ref\n            ),\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'modal-body' },\n               Object(preact_min[\"h\"])(\n                  'div',\n                  { 'class': width < 840 ? \"content\" : \"content container columns\" },\n                  Object(preact_min[\"h\"])(\n                     'form',\n                     { 'class': width < 840 ? \"form-group\" : \"form-group column col-5\" },\n                     Object(preact_min[\"h\"])(form_inputs[\"e\" /* TextInput */], {\n                        label: 'Title',\n                        name: 'title',\n                        value: props.item.title,\n                        onChange: props.onChange\n                     }),\n                     Object(preact_min[\"h\"])(form_inputs[\"e\" /* TextInput */], {\n                        label: 'Location',\n                        name: 'location',\n                        value: props.item.location,\n                        onChange: props.onChange\n                     }),\n                     Object(preact_min[\"h\"])(form_inputs[\"a\" /* DateInput */], {\n                        label: 'Date',\n                        name: 'start',\n                        value: props.item.start,\n                        onChange: props.onChange\n                     }),\n                     Object(preact_min[\"h\"])(\n                        'label',\n                        {\n                           'class': 'form-label'\n                        },\n                        'Change photo',\n                        Object(preact_min[\"h\"])('input', {\n                           'class': 'form-input',\n                           type: 'file',\n                           accept: '.jpg, .jpeg, .png',\n                           value: props.item.file,\n                           onChange: props.onFileChange\n                        })\n                     )\n                  ),\n                  Object(preact_min[\"h\"])(\n                     'div',\n                     { 'class': width < 840 ? \"\" : \"column col-7\" },\n                     Object(preact_min[\"h\"])(ManageMemorial_EditCard, { item: props.item })\n                  )\n               )\n            ),\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'modal-footer' },\n               Object(preact_min[\"h\"])(\n                  'button',\n                  {\n                     'class': 'btn btn-primary',\n                     onClick: props.item.id ? props.updChronicle : props.newChronicle\n                  },\n                  props.item.id ? \"Update item\" : \"Add item\"\n               )\n            )\n         )\n      );\n   };\n\n   return EditModal;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var ManageMemorial_EditModal = (EditModal_EditModal);\n// CONCATENATED MODULE: ./routes/ManageMemorial/PublicUrl.js\n\n\n\nvar PublicUrl_PublicUrl = function PublicUrl(props) {\n   return Object(preact_min[\"h\"])(\n      'button',\n      {\n         'class': 'btn btn-link',\n         onClick: function onClick() {\n            return Object(preact_router_es[\"route\"])('/' + props.urlStr + '/' + props.urlNm + '/chronicle');\n         }\n      },\n      'loveswake.com/' + props.urlStr + '/' + props.urlNm + '/chronicle'\n   );\n};\n\n/* harmony default export */ var ManageMemorial_PublicUrl = (PublicUrl_PublicUrl);\n// CONCATENATED MODULE: ./routes/ManageMemorial/BulkImport.js\n\n\nfunction BulkImport__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction BulkImport__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction BulkImport__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar BulkImport__ref = Object(preact_min[\"h\"])(\n   'h4',\n   null,\n   'Bulk Import'\n);\n\nvar BulkImport_BulkImport = function (_Component) {\n   BulkImport__inherits(BulkImport, _Component);\n\n   function BulkImport() {\n      var _temp, _this, _ret;\n\n      BulkImport__classCallCheck(this, BulkImport);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n         args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = BulkImport__possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n         files: [],\n         filesUploaded: 0\n      }, _this.onFileChange = function (e) {\n         _this.setState({\n            files: e.target.files,\n            filesUploaded: 0\n         });\n      }, _this.bulkImport = function () {\n         _this.setState({ filesUploaded: 0 });\n         var files = _this.state.files;\n         if (files.length === 0) {\n            alert('No files selected.');\n            return;\n         }\n         var cnt = 0;\n         var nextFile = function nextFile() {\n            return files[cnt++];\n         };\n         var newChronicle = function newChronicle(file) {\n            var reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = function (e) {\n               // base64 string with leading \"data:image/${mime};base64,\" stripped\n               var str = e.target.result.split(',')[1];\n               fetch(api[\"a\" /* default */] + \"!newChronicle\", {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                     loginToken: window.sessionStorage.getItem(\"loginToken\"),\n                     urlNm: _this.props.urlNm,\n                     image: str\n                  })\n               }).then(function (res) {\n                  return res.json();\n               }).then(function (json) {\n                  _this.setState(function (prevState) {\n                     return { filesUploaded: prevState.filesUploaded + 1 };\n                  });\n                  newChronicle(nextFile());\n                  console.log(json);\n               });\n            };\n         };\n         newChronicle(nextFile());\n      }, _temp), BulkImport__possibleConstructorReturn(_this, _ret);\n   }\n\n   BulkImport.prototype.render = function render() {\n      return Object(preact_min[\"h\"])(\n         'div',\n         { 'class': 'row', style: 'margin-bottom:32px;' },\n         BulkImport__ref,\n         Object(preact_min[\"h\"])('input', {\n            'class': 'form-input col',\n            style: 'max-width:400px',\n            type: 'file',\n            accept: '.png, .jpg, .jpeg',\n            value: this.state.files,\n            onChange: this.onFileChange,\n            multiple: true\n         }),\n         Object(preact_min[\"h\"])(\n            'button',\n            { 'class': 'btn btn-primary col float-right',\n               onClick: this.bulkImport\n            },\n            ' Bulk Import'\n         ),\n         this.state.filesUploaded > 0 && Object(preact_min[\"h\"])(\n            'div',\n            null,\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'bar' },\n               Object(preact_min[\"h\"])('div', { 'class': 'bar-item',\n                  role: 'progressbar',\n                  style: \"width:\" + this.state.filesUploaded / this.state.files.length * 100 + \"%;\",\n                  'aria-valuenow': this.state.filesUploaded.toString(),\n                  'aria-valuemin': '0',\n                  'aria-valuemax': this.state.files.length.toString()\n               })\n            ),\n            Object(preact_min[\"h\"])(\n               'div',\n               null,\n               this.state.filesUploaded,\n               '/',\n               this.state.files.length,\n               ' uploaded'\n            )\n         )\n      );\n   };\n\n   return BulkImport;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var ManageMemorial_BulkImport = (BulkImport_BulkImport);\n// EXTERNAL MODULE: ../node_modules/validator/lib/isEmail.js\nvar isEmail = __webpack_require__(\"khkS\");\nvar isEmail_default = /*#__PURE__*/__webpack_require__.n(isEmail);\n\n// EXTERNAL MODULE: ../node_modules/marked/lib/marked.js\nvar marked = __webpack_require__(\"3F7m\");\nvar marked_default = /*#__PURE__*/__webpack_require__.n(marked);\n\n// CONCATENATED MODULE: ./routes/ManageMemorial/InvitationModal.js\n\n\nfunction InvitationModal__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction InvitationModal__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction InvitationModal__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n// add a new item to chronicle\n\nvar InvitationModal__ref = Object(preact_min[\"h\"])(\n   'div',\n   { 'class': 'text-center text-gray', style: 'font-size:smaller;' },\n   '- Scroll down to see a preview -'\n);\n\nvar InvitationModal__ref2 = Object(preact_min[\"h\"])('div', { 'class': 'modal-footer' });\n\nvar InvitationModal_InvitationModal = function (_Component) {\n   InvitationModal__inherits(InvitationModal, _Component);\n\n   function InvitationModal(props) {\n      InvitationModal__classCallCheck(this, InvitationModal);\n\n      var _this = InvitationModal__possibleConstructorReturn(this, _Component.call(this, props));\n\n      _this.onChange = function (e) {\n         var _this$setState;\n\n         _this.setState((_this$setState = {}, _this$setState[e.target.name] = e.target.value, _this$setState));\n      };\n\n      marked_default.a.setOptions({\n         sanitize: true\n      });\n      _this.state = {\n         invitation: _this.props.memorial.invitation || ''\n      };\n      return _this;\n   }\n\n   InvitationModal.prototype.render = function render(props) {\n      var modalClasses = classnames_default()(\"modal\", \"modal-lg\", { \"active\": props.showModal }, { \"has-error\": props.modalError });\n\n      var errorHint = classnames_default()(\"form-input-hint\", \"float-left\", { \"d-hide\": !props.modalError });\n\n      var width = window.innerWidth || document.documentElement.clientWidth || document.body.client.width;\n\n      return Object(preact_min[\"h\"])(\n         'div',\n         { 'class': modalClasses },\n         Object(preact_min[\"h\"])('a', { onClick: props.hideModal,\n            'class': 'modal-overlay',\n            'aria-label': 'Close'\n         }),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'modal-container' },\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'modal-header' },\n               Object(preact_min[\"h\"])('a', { onClick: props.hideModal,\n                  'class': 'btn btn-clear float-right',\n                  'aria-label': 'Close'\n               }),\n               Object(preact_min[\"h\"])(\n                  'div',\n                  { 'class': 'modal-title h5' },\n                  'Edit Invitation to ',\n                  props.memorial.nm1,\n                  '\\'s Memorial'\n               ),\n               width < 840 && InvitationModal__ref\n            ),\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'modal-body' },\n               Object(preact_min[\"h\"])(\n                  'div',\n                  { 'class': width < 840 ? \"content\" : \"content container columns\" },\n                  Object(preact_min[\"h\"])(\n                     'form',\n                     { 'class': width < 840 ? \"form-group\" : \"form-group column col-5\" },\n                     Object(preact_min[\"h\"])('textarea', { 'class': 'form-input', rows: '16',\n                        value: this.state.invitation,\n                        onInput: this.onChange,\n                        name: 'invitation'\n                     })\n                  ),\n                  Object(preact_min[\"h\"])(\n                     'div',\n                     { 'class': width < 840 ? \"card\" : \"card column col-7\" },\n                     Object(preact_min[\"h\"])('div', { 'class': 'card-body',\n                        dangerouslySetInnerHTML: { __html: marked_default()(this.state.invitation) }\n                     })\n                  )\n               )\n            ),\n            InvitationModal__ref2\n         )\n      );\n   };\n\n   return InvitationModal;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var ManageMemorial_InvitationModal = (InvitationModal_InvitationModal);\n// EXTERNAL MODULE: ./components/dialog.js\nvar dialog = __webpack_require__(\"wI7h\");\n\n// CONCATENATED MODULE: ./routes/ManageMemorial/Invitations.js\n\n\nfunction Invitations__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction Invitations__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction Invitations__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\nvar Invitations__ref = Object(preact_min[\"h\"])(\n   'h4',\n   { 'class': 'col', style: 'width:80%' },\n   'Invite Others to Contribute'\n);\n\nvar Invitations__ref2 = Object(preact_min[\"h\"])(\n   'span',\n   { 'class': 'input-group-addon addon-sm' },\n   Object(preact_min[\"h\"])('i', { 'class': 'icon icon-search' })\n);\n\nvar Invitations__ref3 = Object(preact_min[\"h\"])(\n   'h5',\n   null,\n   'You haven\\'t invited anyone yet'\n);\n\nvar _ref4 = Object(preact_min[\"h\"])(\n   'label',\n   { 'class': 'form-label' },\n   'Enter email addresses'\n);\n\nvar Invitations_Invitations = function (_Component) {\n   Invitations__inherits(Invitations, _Component);\n\n   function Invitations() {\n      var _temp, _this, _ret;\n\n      Invitations__classCallCheck(this, Invitations);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n         args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = Invitations__possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n         email: '',\n         emails: [],\n         emailError: false,\n         active: false,\n         // email search string\n         filter: '',\n         showModal: false\n      }, _this.onChange = function (e) {\n         var _this$setState;\n\n         _this.setState((_this$setState = {}, _this$setState[e.target.name] = e.target.value, _this$setState));\n      }, _this.hideModal = function () {\n         _this.setState({ showModal: false });\n      }, _this._handleEmailChange = function (e) {\n         _this.setState({ email: e.target.value });\n      }, _this._addEmail = function (e) {\n         e.preventDefault();\n         // if not valid email address\n         if (!isEmail_default()(_this.state.email)) {\n            // throw email error, don't submit\n            _this.setState({ emailError: true });\n            return;\n         } else {\n            _this.setState({ emailError: false });\n         }\n\n         _this.setState({\n            emails: [].concat(_this.state.emails, [_this.state.email]),\n            email: ''\n         });\n      }, _this._removeEmail = function (e) {\n         // save all emails except the one we want to get rid of...\n         // NOTE - originally intended to use e.target.value, but that isn't\n         // a thing when clicking on <a> tags. went with e.target.name as\n         // that was something I could set when the element is created.\n         // see line 67 below.\n         var emails = _this.state.emails.filter(function (email) {\n            return email !== e.target.name;\n         });\n         // and set the state to that.\n         _this.setState({ emails: emails });\n      }, _this.updEmails = function () {\n         fetch(api[\"a\" /* default */] + \"!updEmails\", {\n            method: \"POST\",\n            body: JSON.stringify({\n               emails: _this.state.emails,\n               memorial: _this.props.memorial.urlNm,\n               loginToken: window.sessionStorage.getItem('loginToken')\n            })\n         }).then(function (res) {\n            return res.json();\n         }).then(function (json) {\n            console.log(json);\n         });\n      }, _temp), Invitations__possibleConstructorReturn(_this, _ret);\n   }\n\n   // update invitation list for memorial\n\n\n   Invitations.prototype.render = function render(props, state) {\n      var _this2 = this;\n\n      var formClasses = classnames_default()('form-group', { 'has-error': this.state.emailError });\n\n      var emailHintClasses = classnames_default()('form-input-hint', { 'd-hide': !this.state.emailError });\n\n      return Object(preact_min[\"h\"])(\n         'div',\n         null,\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'row my-2' },\n            Invitations__ref,\n            Object(preact_min[\"h\"])(\n               'button',\n               { 'class': 'btn btn-primary col',\n                  onClick: function onClick() {\n                     return _this2.setState({ showModal: true });\n                  }\n               },\n               ' Edit Invitation'\n            )\n         ),\n         Object(preact_min[\"h\"])(ManageMemorial_InvitationModal, {\n            memorial: this.props.memorial,\n            showModal: this.state.showModal,\n            hideModal: this.hideModal\n         }),\n         this.props.memorial.emails ? Object(preact_min[\"h\"])(\n            'div',\n            null,\n            Object(preact_min[\"h\"])(\n               'span',\n               { 'class': 'badge',\n                  'data-badge': this.props.memorial.emails.length.toString()\n               },\n               'Invitations Sent'\n            ),\n            Object(preact_min[\"h\"])(\n               'span',\n               null,\n               this.state.active ? Object(preact_min[\"h\"])(\n                  'div',\n                  { 'class': 'd-inline' },\n                  Object(preact_min[\"h\"])(\n                     'button',\n                     { 'class': 'btn btn-sm ml-2',\n                        onClick: function onClick() {\n                           return _this2.setState({ active: false });\n                        }\n                     },\n                     ' hide'\n                  ),\n                  Object(preact_min[\"h\"])(\n                     'div',\n                     { 'class': 'input-group float-right' },\n                     Invitations__ref2,\n                     Object(preact_min[\"h\"])('input', {\n                        'class': 'form-input input-sm',\n                        type: 'text',\n                        value: this.state.filter,\n                        onInput: this.onChange,\n                        name: 'filter'\n                     })\n                  )\n               ) : Object(preact_min[\"h\"])(\n                  'button',\n                  { 'class': 'btn btn-sm ml-2',\n                     onClick: function onClick() {\n                        return _this2.setState({ active: true });\n                     }\n                  },\n                  ' show'\n               )\n            ),\n            this.state.active && Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'my-2' },\n               this.state.filter !== \"\" ? this.props.memorial.emails.filter(function (email) {\n                  return email.includes(_this2.state.filter);\n               }).map(function (email) {\n                  return Object(preact_min[\"h\"])(\n                     'span',\n                     { 'class': 'chip' },\n                     email\n                  );\n               }) : this.props.memorial.emails.map(function (email) {\n                  return Object(preact_min[\"h\"])(\n                     'span',\n                     { 'class': 'chip' },\n                     email\n                  );\n               })\n            )\n         ) : Invitations__ref3,\n         Object(preact_min[\"h\"])(\n            'form',\n            { 'class': formClasses },\n            _ref4,\n            Object(preact_min[\"h\"])(\n               'div',\n               { 'class': 'input-group' },\n               Object(preact_min[\"h\"])('input', {\n                  type: 'email',\n                  'class': 'form-input',\n                  value: this.state.email,\n                  onChange: this._handleEmailChange\n               }),\n               Object(preact_min[\"h\"])(\n                  'button',\n                  {\n                     'class': 'btn btn-primary input-group-btn',\n                     type: 'submit',\n                     onClick: this._addEmail\n                  },\n                  'Add'\n               )\n            ),\n            Object(preact_min[\"h\"])(\n               'p',\n               { 'class': emailHintClasses },\n               'Please enter a valid email address'\n            )\n         ),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'mt-2' },\n            this.state.emails.map(function (email) {\n               return Object(preact_min[\"h\"])(\n                  'span',\n                  {\n                     'class': 'chip'\n                  },\n                  email,\n                  Object(preact_min[\"h\"])('a', {\n                     'class': 'btn btn-clear',\n                     'aria-label': 'Close',\n                     role: 'button',\n                     onClick: _this2._removeEmail,\n                     name: email\n                  })\n               );\n            })\n         ),\n         Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'row my-2' },\n            Object(preact_min[\"h\"])(\n               'button',\n               { 'class': 'btn btn-primary float-right',\n                  onClick: this.updEmails\n               },\n               ' Send Invitations'\n            )\n         )\n      );\n   };\n\n   return Invitations;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var ManageMemorial_Invitations = (Invitations_Invitations);\n// CONCATENATED MODULE: ../node_modules/babel-loader/lib??ref--0!./routes/ManageMemorial/index.js\n\n\nfunction ManageMemorial__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction ManageMemorial__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction ManageMemorial__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ManageMemorial__ref = Object(preact_min[\"h\"])('div', { 'class': 'divider' });\n\nvar ManageMemorial__ref2 = Object(preact_min[\"h\"])(\n   'div',\n   null,\n   'This is the Atlas component'\n);\n\nvar ManageMemorial__ref3 = Object(preact_min[\"h\"])(\n   'div',\n   null,\n   'This is the Shrine component'\n);\n\nvar ManageMemorial_ManageMemorial = function (_Component) {\n   ManageMemorial__inherits(ManageMemorial, _Component);\n\n   function ManageMemorial() {\n      var _temp, _this, _ret;\n\n      ManageMemorial__classCallCheck(this, ManageMemorial);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n         args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = ManageMemorial__possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n         item: {},\n         showModal: false,\n\n         active: 'chronicle'\n      }, _this.onChange = function (e) {\n         var oldState = _this.state.item;\n         var newState = _this.state.item;\n         newState[e.target.name] = e.target.value;\n         _this.setState({ oldState: newState });\n      }, _this.onFileChange = function (e) {\n         var oldState = _this.state.item;\n         var newState = _this.state.item;\n         newState[\"file\"] = e.target.files[0];\n         _this.setState({ oldState: newState });\n         // needed to do this as a separate step so the state\n         // updates properly. which means this is a hack.\n         _this.makeFileURL();\n      }, _this.makeFileURL = function () {\n         var oldState = _this.state.item;\n         var newState = _this.state.item;\n         var reader = new FileReader();\n\n         reader.onload = function (e) {\n            newState[\"src\"] = e.target.result;\n            _this.setState({ oldState: newState });\n         };\n\n         reader.readAsDataURL(_this.state.item.file);\n      }, _this.updChronicle = function () {\n         console.log('updChronicle');\n\n         // handle errors\n         if (!(_this.state.item.title && _this.state.item.start)) {\n            alert(\"A new item must have a title and a date\");\n            return;\n         }\n\n         // NOTE - this whole thing feels like a hack as the fetch call\n         // is basically repeated. look into async/await or a promise.\n\n         // if there's an image to upload...\n         if (_this.state.item.file) {\n\n            var reader = new FileReader();\n\n            reader.readAsDataURL(_this.state.item.file);\n\n            reader.onload = function (e) {\n               // base64 string without padding\n               var str = e.target.result.split(',')[1];\n\n               fetch(api[\"a\" /* default */] + \"!updChronicle\", {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                     loginToken: window.sessionStorage.getItem(\"loginToken\"),\n                     urlNm: _this.props.urlNm,\n                     id: _this.state.item.id,\n                     title: _this.state.item.title,\n                     location: _this.state.item.location,\n                     date: _this.state.item.start,\n                     txt: _this.state.item.txt,\n                     image: str\n                  })\n               }).then(function (res) {\n                  return res.json();\n               }).then(function (json) {\n                  console.log(json);\n                  // UPDATE TIMELINE STATE HERE\n                  // NOTE - this may not be necessary, as new entries\n                  // will likely go into a holding container to await\n                  // editing/approval by shrine moderator\n                  // this.refs.timeline.addItem(json);\n                  // this.addItem(json);\n               }).then(_this.setState({\n                  item: {}\n               }));\n            };\n         } else {\n\n            // EDIT URL BELOW\n            fetch(api[\"a\" /* default */] + \"!updChronicle\", {\n               method: \"POST\",\n               body: JSON.stringify({\n                  loginToken: window.sessionStorage.getItem(\"loginToken\"),\n                  urlNm: _this.props.urlNm,\n                  id: _this.state.item.id,\n                  title: _this.state.item.title,\n                  location: _this.state.item.location,\n                  date: _this.state.item.start,\n                  txt: _this.state.item.txt\n               })\n            }).then(function (res) {\n               return res.json();\n            }).then(function (json) {\n               console.log(json);\n               // UPDATE TIMELINE STATE HERE\n               // NOTE - this may not be necessary, as new entries\n               // will likely go into a holding container to await\n               // editing/approval by shrine moderator\n               // this.refs.timeline.addItem(json);\n               // this.addItem(json);\n            }).then(_this.setState({\n               item: {}\n            }));\n         }\n\n         _this.hideModal();\n      }, _this.newChronicle = function () {\n         console.log('newChronicle');\n         // handle errors\n         if (!(_this.state.item.title && _this.state.item.start)) {\n            alert(\"A new item must have a title and a date\");\n            return;\n         }\n\n         // NOTE - this whole thing feels like a hack as the fetch call\n         // is basically repeated. look into async/await or a promise.\n\n         // if there's an image to upload...\n         if (_this.state.item.file) {\n\n            var reader = new FileReader();\n\n            reader.readAsDataURL(_this.state.item.file);\n\n            reader.onload = function (e) {\n               // NOTE - must remove padding for picolisp\n               //\n               // base64 strings are padded with one or two '='s to make sure it aligns\n               // to proper byte boundaries. the picolisp server does not handle this \n               // well. so we must remove any padding before it is sent. after picolisp\n               // has parsed the http request, we can add the appropriate padding back\n               // to the string by checking if it is an even multiple of 4.\n               //\n               // see 'server.l' for the picolisp side.\n               //\n               // NOTE - turns out that we don't need to add padding back on the server\n               // as the base64 utility is still able to decode.\n\n               // base64 string without padding\n               var str = e.target.result.split(',')[1];\n\n               fetch(api[\"a\" /* default */] + \"!newChronicle\", {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                     urlNm: _this.props.urlNm,\n                     title: _this.state.item.title,\n                     subtitle: _this.state.item.subtitle,\n                     location: _this.state.item.location,\n                     date: _this.state.item.start,\n                     txt: _this.state.item.txt,\n                     image: str\n                  })\n               }).then(function (res) {\n                  return res.json();\n               }).then(function (json) {\n                  console.log(json);\n                  // UPDATE TIMELINE STATE HERE\n                  // NOTE - this may not be necessary, as new entries\n                  // will likely go into a holding container to await\n                  // editing/approval by shrine moderator\n                  // this.refs.timeline.addItem(json);\n                  _this.addItem(json);\n               }).then(_this.setState({\n                  item: {}\n               }));\n            };\n         } else {\n\n            // EDIT URL BELOW\n            fetch(api[\"a\" /* default */] + \"!newChronicle\", {\n               method: \"POST\",\n               body: JSON.stringify({\n                  urlNm: _this.props.urlNm,\n                  title: _this.state.item.title,\n                  subtitle: _this.state.item.subtitle,\n                  location: _this.state.item.location,\n                  date: _this.state.item.start,\n                  txt: _this.state.item.txt\n               })\n            }).then(function (res) {\n               return res.json();\n            }).then(function (json) {\n               console.log(json);\n               // UPDATE TIMELINE STATE HERE\n               // NOTE - this may not be necessary, as new entries\n               // will likely go into a holding container to await\n               // editing/approval by shrine moderator\n               // this.refs.timeline.addItem(json);\n               _this.addItem(json);\n            }).then(_this.setState({\n               item: {}\n            }));\n         }\n\n         _this.hideModal();\n      }, _this.showModal = function (id) {\n         var memorial = _this.props.user.memorials.find(function (m) {\n            return m.urlNm === _this.props.urlNm;\n         });\n         _this.setState({ showModal: true, item: memorial.items.find(function (item) {\n               return item.id === id;\n            }) });\n      }, _this.hideModal = function () {\n         var oldItem = _this.state.item;\n         var newItem = _this.state.item;\n         newItem[\"edited\"] = true;\n         _this.setState({\n            showModal: false,\n            modalError: false,\n            oldItem: newItem\n         });\n      }, _this.newItem = function () {\n         _this.showModal();\n         _this.setState({ item: {} });\n      }, _temp), ManageMemorial__possibleConstructorReturn(_this, _ret);\n   }\n\n   ManageMemorial.prototype.render = function render() {\n      var _this2 = this;\n\n      var memorial = this.props.user.memorials.find(function (m) {\n         return m.urlNm === _this2.props.urlNm;\n      });\n      return Object(preact_min[\"h\"])(GridContainer[\"a\" /* default */], {\n         avatarColumn: Object(preact_min[\"h\"])(\n            'div',\n            { 'class': 'menu', style: 'z-index:1;' },\n            Object(preact_min[\"h\"])(\n               'figure',\n               { 'class': 'centered avatar avatar-xxl' },\n               Object(preact_min[\"h\"])('img', { src: memorial.avatar })\n            ),\n            Object(preact_min[\"h\"])(\n               'h3',\n               { 'class': 'text-center mt-2' },\n               memorial.nm\n            ),\n            ManageMemorial__ref,\n            Object(preact_min[\"h\"])(\n               'li',\n               { 'class': 'menu-item' },\n               Object(preact_min[\"h\"])(\n                  preact_router_es[\"Link\"],\n                  { 'class': 'menu-item', href: \"/\" + memorial.urlStr + \"/\" + memorial.urlNm + \"/chronicle\" },\n                  'View Chronicle'\n               )\n            )\n         ),\n         contentColumn: Object(preact_min[\"h\"])(\n            'div',\n            null,\n            Object(preact_min[\"h\"])(\n               'ul',\n               { 'class': 'tab tab-block' },\n               Object(preact_min[\"h\"])(\n                  'li',\n                  { 'class': \"tab-item c-hand \" + (this.state.active === \"chronicle\" ? \"active\" : \"\") },\n                  Object(preact_min[\"h\"])(\n                     'a',\n                     { onClick: function onClick() {\n                           return _this2.setState({ active: \"chronicle\" });\n                        }\n                     },\n                     'Chronicle'\n                  )\n               ),\n               Object(preact_min[\"h\"])(\n                  'li',\n                  { 'class': \"tab-item c-hand \" + (this.state.active === \"atlas\" ? \"active\" : \"\") },\n                  Object(preact_min[\"h\"])(\n                     'a',\n                     { onClick: function onClick() {\n                           return _this2.setState({ active: \"atlas\" });\n                        }\n                     },\n                     ' Atlas'\n                  )\n               ),\n               Object(preact_min[\"h\"])(\n                  'li',\n                  { 'class': \"tab-item c-hand \" + (this.state.active === \"shrine\" ? \"active\" : \"\") },\n                  Object(preact_min[\"h\"])(\n                     'a',\n                     { onClick: function onClick() {\n                           return _this2.setState({ active: \"shrine\" });\n                        }\n                     },\n                     'Shrine'\n                  )\n               ),\n               Object(preact_min[\"h\"])(\n                  'li',\n                  { 'class': \"tab-item c-hand \" + (this.state.active === \"invitations\" ? \"active\" : \"\") },\n                  Object(preact_min[\"h\"])(\n                     'a',\n                     { onClick: function onClick() {\n                           return _this2.setState({ active: \"invitations\" });\n                        }\n                     },\n                     ' Invitations'\n                  )\n               )\n            ),\n            this.state.active === \"chronicle\" && Object(preact_min[\"h\"])(\n               'div',\n               null,\n               Object(preact_min[\"h\"])(ManageMemorial_BulkImport, {\n                  urlNm: memorial.urlNm\n               }),\n               Object(preact_min[\"h\"])(ManageMemorial_ContentList, {\n                  showModal: this.showModal,\n                  items: memorial.items,\n                  newItem: this.newItem\n               }),\n               Object(preact_min[\"h\"])(ManageMemorial_EditModal, {\n                  showModal: this.state.showModal,\n                  hideModal: this.hideModal,\n\n                  updChronicle: this.updChronicle,\n                  newChronicle: this.newChronicle,\n\n                  onChange: this.onChange,\n                  onFileChange: this.onFileChange,\n\n                  item: this.state.item\n               })\n            ),\n            this.state.active === \"atlas\" && ManageMemorial__ref2,\n            this.state.active === \"shrine\" && ManageMemorial__ref3,\n            this.state.active === \"invitations\" && Object(preact_min[\"h\"])(ManageMemorial_Invitations, {\n               memorial: memorial\n            })\n         )\n      });\n   };\n\n   return ManageMemorial;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var lib__ref__0_routes_ManageMemorial = __webpack_exports__[\"default\"] = (ManageMemorial_ManageMemorial);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-ManageMemorial.chunk.b95cd.js","import { h, Component } from 'preact';\nimport { route } from 'preact-router';\n\nconst ContentList = (props) => (\n   <div>\n      <div class=\"row\">\n         <h4 class=\"col\">Chronicle Items</h4>\n         <div class=\"col\" />\n         <button\n            class=\"col btn btn-primary\"\n            onClick={props.newItem}\n         >\n            Add Item\n         </button>\n      </div>\n      <div class=\"divider\" />\n      <div\n         style={\n            \"display:flex;\"\n            + \"flex-direction:row;\"\n            + \"flex-wrap:wrap;\"\n            + \"align-items:flex-start;\"\n            + \"justify-content:center;\"\n         }\n      >\n         { \n            props.items.map((item) => (\n                  <ContentCard\n                     id={item.id}\n                     title={item.title} \n                     date={item.start} \n                     location={item.location} \n                     src={item.src}\n                     showModal={(id) => props.showModal(id)}\n                     edited={item.edited}\n                  />\n            ))\n         }\n      </div>\n   </div>\n)\n\nconst ContentCard = (props) => (\n   <div class=\"card m-2\" style={\"width:200px;\"}>\n      { props.src &&\n            <img class=\"responsive-img mt-2 mx-2 centered\" src={props.src} style=\"max-width:182px\"/>\n      }\n      <div class=\"card-body\">\n         <div class=\"h6 text-ellipsis\">{props.title}</div>\n         <div class=\"text-gray text-ellipsis\" style=\"font-size:smaller;\">{props.location}</div>\n         <div class=\"text-gray\" style=\"font-size:smaller;\">{props.date}</div>\n      </div>\n      <div class=\"card-footer\">\n         <button \n            class=\"btn btn-sm float-right\"\n            onClick={(id) => props.showModal(props.id)}\n         > \n            edit\n         </button>\n      </div>\n   </div>\n)\n\nexport default ContentList;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/ContentList.js","import { h, Component } from 'preact';\n\nconst EditCard = (props) => (\n\n   <div class={ \"panel\" }>\n\n      <div class=\"panel-body mt-2\">\n\n         {/* no need to render image if it doesn't exist */}\n         { props.item.src &&\n            <img \n               src={props.item.src} \n               alt={props.item.title} \n               class=\"img-responsive my-2\"\n            />\n         }\n\n         <h4>{props.item.title}</h4>\n\n         <div class=\"text-gray d-inline\">{props.item.location}</div> \n         <div class=\"text-gray d-inline mx-2\">{props.item.start}</div>\n\n         <p>{props.item.caption}</p>\n\n      </div>\n\n      {/*\n      <div class=\"card-footer\">\n         <button class=\"btn btn-primary\">Do</button>\n      </div>\n      */}\n\n   </div>\n)\n\nexport default EditCard;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/EditCard.js","import { h, Component } from 'preact';\nimport classnames from 'classnames';\nimport { TextArea, TextInput, DateInput } from '../../components/form-inputs';\nimport EditCard from './EditCard';\n\n// edit a chronicle item\nclass EditModal extends Component {\n\n   render (props) {\n      let modalClasses = classnames(\n         \"modal\", \"modal-lg\", { \"active\": props.showModal }, { \"has-error\": props.modalError}\n      );\n\n      var width = window.innerWidth || document.documentElement.clientWidth || document.body.client.width;\n\n      return (\n         <div class={modalClasses}>\n\n            <a onClick={props.hideModal} \n               class=\"modal-overlay\" \n               aria-label=\"Close\" \n            />\n\n            <div class=\"modal-container\">\n\n               <div class=\"modal-header\">\n\n                  <a onClick={props.hideModal} \n                     class=\"btn btn-clear float-right\" \n                     aria-label=\"Close\"\n                  />\n\n                  <div class=\"modal-title h5\">\n                     { props.item.id ?\n                        \"Edit Item\"\n                           :\n                        \"Add Item\"\n                     }\n                  </div>\n\n               { width < 840 &&\n                  <div class=\"text-center text-gray\" style=\"font-size:smaller;\">\n                     - Scroll down to see a preview -\n                  </div>\n               }\n\n               </div>\n\n               <div class=\"modal-body\">\n                  <div class={ width < 840 ? \"content\" : \"content container columns\"}>\n\n                     <form class={ width < 840 ? \"form-group\" : \"form-group column col-5\"}>\n\n                        <TextInput \n                           label=\"Title\" \n                           name=\"title\" \n                           value={props.item.title} \n                           onChange={props.onChange} \n                        />\n\n                        <TextInput \n                           label=\"Location\" \n                           name=\"location\"\n                           value={props.item.location}\n                           onChange={props.onChange}\n                        />\n\n                        <DateInput \n                           label=\"Date\" \n                           name=\"start\"\n                           value={props.item.start}\n                           onChange={props.onChange}\n                        />\n\n                        <label\n                           class=\"form-label\"\n                        >\n                           Change photo\n                           <input \n                              class=\"form-input\"\n                              type=\"file\" \n                              accept=\".jpg, .jpeg, .png\"\n                              value={props.item.file} \n                              onChange={props.onFileChange}\n                           />\n                        </label>\n\n                     </form>\n\n                     <div class={ width < 840 ? \"\" : \"column col-7\" }>\n                        <EditCard item={props.item} />\n                     </div>\n\n                  </div>\n\n               </div>\n\n\n               <div class=\"modal-footer\">\n\n                  <button \n                     class=\"btn btn-primary\"\n                     onClick={ props.item.id ? props.updChronicle : props.newChronicle } \n                  >\n                     { props.item.id ?\n                        \"Update item\"\n                           :\n                        \"Add item\"\n                     }\n                  </button>\n\n               </div>\n\n            </div>\n\n         </div>\n      );\n   }\n\n}\n\nexport default EditModal;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/EditModal.js","import { h, Component } from 'preact';\nimport API_ENDPOINT from '../../api';\n\nclass BulkImport extends Component {\n   state = {\n      files: [],\n      filesUploaded: 0\n   }\n\n   onFileChange = (e) => {\n      this.setState({\n         files: e.target.files,\n         filesUploaded: 0\n      });\n   }\n\n   bulkImport = () => {\n      this.setState({ filesUploaded: 0 });\n      var files = this.state.files;\n      if (files.length === 0) { \n         alert('No files selected.');\n         return; \n      }\n      var cnt = 0;\n      var nextFile = () => {\n         return files[cnt++];\n      }\n      var newChronicle = (file) => {\n         let reader = new FileReader();\n         reader.readAsDataURL(file);\n         reader.onload = (e) => {\n            // base64 string with leading \"data:image/${mime};base64,\" stripped\n            let str = e.target.result.split(',')[1]\n            fetch( API_ENDPOINT + \"!newChronicle\", { \n               method: \"POST\", \n               body: JSON.stringify({ \n                  loginToken: window.sessionStorage.getItem(\"loginToken\"),\n                  urlNm: this.props.urlNm,\n                  image: str\n               }) \n            })\n            .then(res => res.json())\n            .then(json => {\n               this.setState((prevState) => ({ filesUploaded: prevState.filesUploaded + 1 }));\n               newChronicle(nextFile());\n               console.log(json);\n            })\n         }\n      }\n      newChronicle(nextFile());\n   }\n\n   render () {\n      return (\n         <div class=\"row\" style=\"margin-bottom:32px;\">\n            <h4>Bulk Import</h4>\n            <input \n               class=\"form-input col\"\n               style=\"max-width:400px\"\n               type=\"file\" \n               accept=\".png, .jpg, .jpeg\" \n               value={this.state.files}\n               onChange={this.onFileChange}\n               multiple \n            />\n            <button class=\"btn btn-primary col float-right\"\n               onClick={this.bulkImport}\n            > Bulk Import\n            </button>\n            { this.state.filesUploaded > 0 &&\n               <div>\n                  <div class=\"bar\">\n                     <div class=\"bar-item\"\n                        role=\"progressbar\"\n                        style={\"width:\" + (this.state.filesUploaded / this.state.files.length * 100) + \"%;\"}\n                        aria-valuenow={this.state.filesUploaded.toString()} \n                        aria-valuemin=\"0\" \n                        aria-valuemax={this.state.files.length.toString()}\n                     />\n                  </div>\n                  <div>{this.state.filesUploaded}/{this.state.files.length} uploaded</div>\n               </div>\n            }\n         </div>\n      );\n   }\n}\n\nexport default BulkImport;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/BulkImport.js","import { h, Component } from 'preact';\nimport marked from 'marked';\nimport classnames from 'classnames';\nimport { TextArea, TextInput, DateInput } from '../../components/form-inputs';\nimport API_ENDPOINT from '../../api';\n\n// add a new item to chronicle\nclass InvitationModal extends Component {\n   constructor(props) {\n      super(props);\n      marked.setOptions({\n         sanitize: true\n      })\n      this.state = {\n         invitation: this.props.memorial.invitation || ''\n      }\n   }\n\n   onChange = (e) => {\n      this.setState({ [e.target.name]: e.target.value });\n   }\n\n   render (props) {\n      let modalClasses = classnames(\n         \"modal\", \"modal-lg\", { \"active\": props.showModal }, { \"has-error\": props.modalError}\n      );\n\n      let errorHint = classnames(\n         \"form-input-hint\", \"float-left\", { \"d-hide\": !props.modalError }\n      );\n\n      var width = window.innerWidth || document.documentElement.clientWidth || document.body.client.width;\n\n      return (\n         <div class={modalClasses}>\n\n            <a onClick={props.hideModal} \n               class=\"modal-overlay\" \n               aria-label=\"Close\" \n            />\n\n            <div class=\"modal-container\">\n\n               <div class=\"modal-header\">\n\n                  <a onClick={props.hideModal} \n                     class=\"btn btn-clear float-right\" \n                     aria-label=\"Close\"\n                  />\n\n                  <div class=\"modal-title h5\">\n                     Edit Invitation to {props.memorial.nm1}'s Memorial\n                  </div>\n\n\n                  { width < 840 &&\n                     <div class=\"text-center text-gray\" style=\"font-size:smaller;\">\n                        - Scroll down to see a preview -\n                     </div>\n                  }\n\n               </div>\n\n               <div class=\"modal-body\">\n                  <div class={width < 840 ? \"content\" : \"content container columns\"}>\n\n                     <form class={width < 840 ? \"form-group\" : \"form-group column col-5\"}>\n                        <textarea class=\"form-input\" rows=\"16\"\n                           value={this.state.invitation}\n                           onInput={this.onChange}\n                           name=\"invitation\"\n                        />\n\n                     </form>\n\n                     <div class={width < 840 ? \"card\" : \"card column col-7\"}>\n                        <div class=\"card-body\"\n                           dangerouslySetInnerHTML={{__html: marked(this.state.invitation)}}\n                        />\n                     </div>\n\n                  </div>\n\n               </div>\n\n\n               <div class=\"modal-footer\">\n\n               </div>\n\n            </div>\n\n         </div>\n      );\n   }\n}\n\nexport default InvitationModal;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/InvitationModal.js","import { h, Component } from 'preact';\nimport isEmail from 'validator/lib/isEmail';\nimport classNames from 'classnames';\n\nimport API_ENDPOINT from '../../api';\nimport InvitationModal from './InvitationModal';\n\nimport { Dialog } from '../../components/dialog';\nimport { TextInput } from '../../components/form-inputs/';\n\n\nclass Invitations extends Component {\n   state = {\n      email: '',\n      emails: [],\n      emailError: false,\n      active: false,\n      // email search string\n      filter: '',\n      showModal: false,\n   }\n\n   onChange = (e) => {\n      this.setState({ [e.target.name]: e.target.value });\n   }\n\n   hideModal = () => {\n      this.setState({ showModal: false });\n   }\n\n   _handleEmailChange = (e) => {\n      this.setState({ email: e.target.value });\n   }\n\n   _addEmail = (e) => {\n      e.preventDefault();\n      // if not valid email address\n      if ( !(isEmail(this.state.email)) ) {\n         // throw email error, don't submit\n         this.setState({ emailError: true });\n         return\n      } else {\n         this.setState({ emailError: false });\n      }\n\n      this.setState({ \n         emails: [ ...this.state.emails, this.state.email ],\n         email: ''\n      });\n   }\n\n   _removeEmail = (e) => {\n      // save all emails except the one we want to get rid of...\n      // NOTE - originally intended to use e.target.value, but that isn't\n      // a thing when clicking on <a> tags. went with e.target.name as\n      // that was something I could set when the element is created.\n      // see line 67 below.\n      let emails = this.state.emails.filter( email => email !== e.target.name );\n      // and set the state to that.\n      this.setState({ emails: emails });\n   }\n\n   // update invitation list for memorial\n   updEmails = () => {\n      fetch(API_ENDPOINT + \"!updEmails\", {\n         method: \"POST\",\n         body: JSON.stringify({\n            emails: this.state.emails,\n            memorial: this.props.memorial.urlNm,\n            loginToken: window.sessionStorage.getItem('loginToken')\n         })\n      })\n      .then(res => res.json())\n      .then(json => {\n         console.log(json);\n      })\n   }\n\n   render (props, state) {\n\n      let formClasses = classNames(\n         'form-group', { 'has-error': this.state.emailError }\n      );\n\n      let emailHintClasses = classNames(\n         'form-input-hint', { 'd-hide': !this.state.emailError }\n      );\n\n      return (\n         <div>\n\n            <div class=\"row my-2\">\n               <h4 class=\"col\" style=\"width:80%\">Invite Others to Contribute</h4>\n\n               <button class=\"btn btn-primary col\"\n                  onClick={() => this.setState({ showModal: true })}\n               > Edit Invitation\n               </button>\n            </div>\n\n            <InvitationModal \n               memorial={this.props.memorial}\n               showModal={this.state.showModal}\n               hideModal={this.hideModal}\n            />\n\n            { \n               this.props.memorial.emails ?\n                  <div>\n                     <span class=\"badge\" \n                        data-badge={this.props.memorial.emails.length.toString()}\n                     >Invitations Sent\n                     </span>\n                     <span>\n                        { \n                           this.state.active ?\n                              <div class=\"d-inline\">\n                                 <button class=\"btn btn-sm ml-2\"\n                                    onClick={() => this.setState({ active: false })}\n                                 > hide\n                                 </button>\n                                 <div class=\"input-group float-right\">\n                                    <span class=\"input-group-addon addon-sm\">\n                                       <i class=\"icon icon-search\" />\n                                    </span>\n                                    <input \n                                       class=\"form-input input-sm\"\n                                       type=\"text\"\n                                       value={this.state.filter}\n                                       onInput={this.onChange}\n                                       name=\"filter\"\n                                    />\n                                 </div>\n                              </div>\n                                 :\n                              <button class=\"btn btn-sm ml-2\"\n                                 onClick={() => this.setState({ active: true })}\n                              > show\n                              </button>\n                        }\n                     </span>\n                     { this.state.active &&\n                        <div class=\"my-2\">\n                           { this.state.filter !== \"\" ?\n                                 this.props.memorial.emails\n                                 .filter(email => email.includes(this.state.filter))\n                                 .map((email) => (\n                                    <span class=\"chip\">{email}</span>\n                                 ))\n                                    :\n                                 this.props.memorial.emails.map((email) => (\n                                    <span class=\"chip\">{email}</span>\n                                 ))\n                           }\n                        </div>\n                     }\n                  </div>\n                     :\n                  <h5>You haven't invited anyone yet</h5>\n            }\n\n            <form class={ formClasses } >\n\n               <label class=\"form-label\">Enter email addresses</label>\n\n               <div class=\"input-group\">\n\n                  <input\n                     type=\"email\"\n                     class=\"form-input\"\n                     value={ this.state.email }\n                     onChange={ this._handleEmailChange }\n                  />\n\n                  <button \n                     class=\"btn btn-primary input-group-btn\"\n                     type=\"submit\"\n                     onClick={ this._addEmail }\n                  >\n                     Add\n                  </button>\n\n               </div>\n\n               <p class={ emailHintClasses }>\n                  Please enter a valid email address\n               </p>\n\n            </form>\n\n            <div class=\"mt-2\" >\n               { this.state.emails.map((email) => (\n                  <span \n                     class=\"chip\"\n                  >\n                     { email }\n                     <a \n                        class=\"btn btn-clear\" \n                        aria-label=\"Close\" \n                        role=\"button\" \n                        onClick={ this._removeEmail }\n                        name={ email }\n                     />\n                  </span>\n               )) }\n            </div>\n\n            <div class=\"row my-2\">\n               <button class=\"btn btn-primary float-right\"\n                  onClick={this.updEmails}\n               > Send Invitations\n               </button>\n            </div>\n\n         </div>\n      );\n   }\n}\n\nexport default Invitations;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/Invitations.js","import { h, Component } from 'preact';\nimport API_ENDPOINT from '../../api';\nimport { Link } from 'preact-router';\n\nimport GridContainer from '../../components/GridContainer';\n\nimport ContentList from './ContentList';\nimport EditModal from './EditModal';\nimport PublicUrl from './PublicUrl';\nimport BulkImport from './BulkImport';\n\nimport Invitations from './Invitations';\n\nclass ManageMemorial extends Component {\n   state = {\n      item: {},\n      showModal: false,\n\n      active: 'chronicle',\n   }\n\n   onChange = (e) => {\n      let oldState = this.state.item;\n      let newState = this.state.item;\n      newState[e.target.name] = e.target.value;\n      this.setState({ oldState: newState });\n   }\n\n   onFileChange = (e) => {\n      let oldState = this.state.item;\n      let newState = this.state.item;\n      newState[\"file\"] = e.target.files[0];\n      this.setState({ oldState: newState });\n      // needed to do this as a separate step so the state\n      // updates properly. which means this is a hack.\n      this.makeFileURL();\n   }\n\n   makeFileURL = () => {\n      let oldState = this.state.item;\n      let newState = this.state.item;\n      let reader = new FileReader();\n\n      reader.onload = (e) => {\n        newState[\"src\"] = e.target.result;\n        this.setState({ oldState: newState })\n      }\n\n      reader.readAsDataURL(this.state.item.file);\n   }\n\n   updChronicle = () => {\n      console.log('updChronicle');\n\n      // handle errors\n      if (!(this.state.item.title && this.state.item.start)) {\n         alert(\"A new item must have a title and a date\");\n         return;\n      }\n\n      // NOTE - this whole thing feels like a hack as the fetch call\n      // is basically repeated. look into async/await or a promise.\n\n      // if there's an image to upload...\n      if (this.state.item.file) {\n\n         let reader = new FileReader();\n\n         reader.readAsDataURL(this.state.item.file);\n\n         reader.onload = (e) => {\n            // base64 string without padding\n            let str = e.target.result.split(',')[1]\n\n            fetch( API_ENDPOINT + \"!updChronicle\",\n               { \n                  method: \"POST\", \n                  body: JSON.stringify({ \n                     loginToken: window.sessionStorage.getItem(\"loginToken\"),\n                     urlNm: this.props.urlNm,\n                     id: this.state.item.id,\n                     title: this.state.item.title,\n                     location: this.state.item.location,\n                     date: this.state.item.start,\n                     txt: this.state.item.txt,\n                     image: str\n                  }) \n               }\n            )\n            .then( res => res.json() )\n            .then( json => {\n               console.log(json);\n               // UPDATE TIMELINE STATE HERE\n               // NOTE - this may not be necessary, as new entries\n               // will likely go into a holding container to await\n               // editing/approval by shrine moderator\n               // this.refs.timeline.addItem(json);\n               // this.addItem(json);\n            })\n            .then( this.setState({ \n               item: {}\n            }));\n            \n         }\n\n      } else {\n\n         // EDIT URL BELOW\n         fetch( API_ENDPOINT + \"!updChronicle\",\n            { \n               method: \"POST\", \n               body: JSON.stringify({ \n                  loginToken: window.sessionStorage.getItem(\"loginToken\"),\n                  urlNm: this.props.urlNm,\n                  id: this.state.item.id,\n                  title: this.state.item.title,\n                  location: this.state.item.location,\n                  date: this.state.item.start,\n                  txt: this.state.item.txt,\n               }) \n            }\n         )\n         .then( res => res.json() )\n         .then( json => {\n            console.log(json);\n            // UPDATE TIMELINE STATE HERE\n            // NOTE - this may not be necessary, as new entries\n            // will likely go into a holding container to await\n            // editing/approval by shrine moderator\n            // this.refs.timeline.addItem(json);\n            // this.addItem(json);\n         })\n         .then( this.setState({ \n            item: {}\n         }));\n\n      }\n\n      this.hideModal();\n   }\n\n   newChronicle = () => {\n      console.log('newChronicle');\n      // handle errors\n      if (!(this.state.item.title && this.state.item.start)) {\n         alert(\"A new item must have a title and a date\");\n         return;\n      }\n\n      // NOTE - this whole thing feels like a hack as the fetch call\n      // is basically repeated. look into async/await or a promise.\n\n      // if there's an image to upload...\n      if (this.state.item.file) {\n\n         let reader = new FileReader();\n\n         reader.readAsDataURL(this.state.item.file);\n\n         reader.onload = (e) => {\n            // NOTE - must remove padding for picolisp\n            //\n            // base64 strings are padded with one or two '='s to make sure it aligns\n            // to proper byte boundaries. the picolisp server does not handle this \n            // well. so we must remove any padding before it is sent. after picolisp\n            // has parsed the http request, we can add the appropriate padding back\n            // to the string by checking if it is an even multiple of 4.\n            //\n            // see 'server.l' for the picolisp side.\n            //\n            // NOTE - turns out that we don't need to add padding back on the server\n            // as the base64 utility is still able to decode.\n\n            // base64 string without padding\n            let str = e.target.result.split(',')[1]\n\n            fetch( API_ENDPOINT + \"!newChronicle\",\n               { \n                  method: \"POST\", \n                  body: JSON.stringify({ \n                     urlNm: this.props.urlNm,\n                     title: this.state.item.title,\n                     subtitle: this.state.item.subtitle,\n                     location: this.state.item.location,\n                     date: this.state.item.start,\n                     txt: this.state.item.txt,\n                     image: str\n                  }) \n               }\n            )\n            .then( res => res.json() )\n            .then( json => {\n               console.log(json);\n               // UPDATE TIMELINE STATE HERE\n               // NOTE - this may not be necessary, as new entries\n               // will likely go into a holding container to await\n               // editing/approval by shrine moderator\n               // this.refs.timeline.addItem(json);\n               this.addItem(json);\n            })\n            .then( this.setState({ \n               item: {}\n            }));\n            \n         }\n\n      } else {\n\n         // EDIT URL BELOW\n         fetch( API_ENDPOINT + \"!newChronicle\",\n            { \n               method: \"POST\", \n               body: JSON.stringify({ \n                  urlNm: this.props.urlNm,\n                  title: this.state.item.title,\n                  subtitle: this.state.item.subtitle,\n                  location: this.state.item.location,\n                  date: this.state.item.start,\n                  txt: this.state.item.txt,\n               }) \n            }\n         )\n         .then( res => res.json() )\n         .then( json => {\n            console.log(json);\n            // UPDATE TIMELINE STATE HERE\n            // NOTE - this may not be necessary, as new entries\n            // will likely go into a holding container to await\n            // editing/approval by shrine moderator\n            // this.refs.timeline.addItem(json);\n            this.addItem(json);\n         })\n         .then( this.setState({ \n            item: {}\n         }));\n\n      }\n\n      this.hideModal();\n   }\n\n   showModal = (id) => {\n      let memorial = this.props.user.memorials.find(m => m.urlNm === this.props.urlNm);\n      this.setState({ showModal: true, item: memorial.items.find(item => item.id === id) });\n   }\n\n   hideModal = () => {\n      let oldItem = this.state.item;\n      let newItem = this.state.item;\n      newItem[\"edited\"] = true;\n      this.setState({ \n         showModal: false, \n         modalError: false,\n         oldItem: newItem\n      });\n   }\n\n   newItem = () => {\n      this.showModal();\n      this.setState({ item: {} });\n   }\n\n   render () {\n      let memorial = this.props.user.memorials.find(m => m.urlNm === this.props.urlNm);\n      return (\n         <GridContainer\n            avatarColumn={\n               <div class=\"menu\" style=\"z-index:1;\">\n                     <figure class=\"centered avatar avatar-xxl\"> \n                        <img src={memorial.avatar} />\n                     </figure>\n                     <h3 class=\"text-center mt-2\">{memorial.nm}</h3>\n                     <div class=\"divider\" />\n                     <li class=\"menu-item\">\n                        <Link class=\"menu-item\" href={\"/\" + memorial.urlStr + \"/\" + memorial.urlNm + \"/chronicle\"}>\n                           View Chronicle\n                        </Link>\n                     </li>\n               </div>\n            }\n            contentColumn={\n               <div>\n                  {/*\n                  <PublicUrl \n                     nm1={memorial.nm1} \n                     urlStr={memorial.urlStr} \n                     urlNm={memorial.urlNm}\n                  />\n                  */}\n                  <ul class=\"tab tab-block\">\n                     <li class={\"tab-item c-hand \" + (this.state.active === \"chronicle\" ? \"active\" : \"\")}>\n                        <a onClick={() => this.setState({ active: \"chronicle\" })}\n                        >Chronicle\n                        </a>\n                     </li>\n                     <li class={\"tab-item c-hand \" + (this.state.active === \"atlas\" ? \"active\" : \"\")}>\n                        <a onClick={() => this.setState({ active: \"atlas\" })}\n                        > Atlas\n                        </a>\n                     </li>\n                     <li class={\"tab-item c-hand \" + (this.state.active === \"shrine\" ? \"active\" : \"\")}>\n                        <a onClick={() => this.setState({ active: \"shrine\" })}\n                        >Shrine</a>\n                     </li>\n                     <li class={\"tab-item c-hand \" + (this.state.active === \"invitations\" ? \"active\" : \"\")}>\n                        <a onClick={() => this.setState({ active: \"invitations\" })}\n                        > Invitations\n                        </a>\n                     </li>\n                  </ul>\n                  { this.state.active === \"chronicle\" &&\n                     <div>\n                        <BulkImport \n                           urlNm={memorial.urlNm}\n                        />\n                        <ContentList \n                           showModal={this.showModal} \n                           items={memorial.items} \n                           newItem={this.newItem}\n                        />\n                        <EditModal \n                           showModal={this.state.showModal}\n                           hideModal={this.hideModal}\n\n                           updChronicle={this.updChronicle}\n                           newChronicle={this.newChronicle}\n\n                           onChange={this.onChange}\n                           onFileChange={this.onFileChange}\n\n                           item={this.state.item}\n                        />\n                     </div>\n                  }\n                  { this.state.active === \"atlas\" &&\n                     <div>This is the Atlas component</div>\n                  }\n                  { this.state.active === \"shrine\" &&\n                     <div>This is the Shrine component</div>\n                  }\n                  { this.state.active === \"invitations\" &&\n                        <Invitations \n                           memorial={memorial}\n                        />\n                  }\n               </div>\n            }\n         />\n      )\n   }\n}\n\nexport default ManageMemorial;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/ManageMemorial/index.js"],"sourceRoot":""}